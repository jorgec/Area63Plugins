!function(e){function t(t){for(var r,i,c=t[0],o=t[1],u=t[2],p=0,d=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(l&&l(t);d.length;)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,c=1;c<n.length;c++){var o=n[c];0!==a[o]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={admin:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.wpshopify=window.wpshopify||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=o;s.push(["./_tmp/admin/js/app/app.js","vendors-admin-public","vendors-admin"]),n()}({"./_tmp/admin/js/app/app.js":function(e,t,n){"use strict";n.r(t);n("./node_modules/@babel/polyfill/noConflict.js");var r=n("./node_modules/react/index.js"),a=n.n(r),s=n("./node_modules/react-dom/index.js"),i=n.n(s),c=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(c),u=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(u),p=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),d=n.n(p),g=n("./node_modules/await-to-js/dist/await-to-js.es5.js"),f=n("./node_modules/lodash/forEach.js"),h=n.n(f),y=n("./node_modules/lodash/concat.js"),m=n.n(y),w=n("./node_modules/axios/index.js"),b=n.n(w),_=n("./node_modules/lodash/isEmpty.js"),v=n.n(_),x=n("./node_modules/lodash/isError.js"),k=n.n(x),S=n("./node_modules/lodash/isEqual.js"),j=n.n(S),C=(n("./node_modules/lodash/unionWith.js"),n("./node_modules/lodash/merge.js")),P=n.n(C),T=n("./node_modules/lodash/filter.js"),E=n.n(T),O=(n("./node_modules/lodash/map.js"),n("./node_modules/lodash/union.js")),Q=n.n(O),I=(n("./node_modules/lodash/matches.js"),n("./node_modules/lodash/find.js")),W=n.n(I),z=n("./node_modules/lodash/isArray.js"),D=n.n(z),A=n("./node_modules/lodash/has.js"),H=n.n(A),B=n("./node_modules/lodash/pickBy.js"),U=n.n(B),L=n("./node_modules/lodash/omitBy.js"),M=n.n(L),N=n("./node_modules/lodash/uniqBy.js"),R=n.n(N),F=n("./node_modules/lodash/parseInt.js"),G=n.n(F),q=n("./node_modules/lodash/isNaN.js"),Z=n.n(q),$=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Y=n.n($),J=n("./node_modules/lodash/isObject.js"),V=n.n(J),K=n("./node_modules/lodash/isString.js"),X=n.n(K),ee=n("./node_modules/validator/lib/isURL.js"),te=n.n(ee),ne=n("./node_modules/dateformat/lib/dateformat.js"),re=n.n(ne),ae=n("./node_modules/lodash/forOwn.js"),se=n.n(ae),ie=n("./node_modules/lodash/isPlainObject.js"),ce=n.n(ie);function oe(e){return anime({targets:e.toArray(),translateX:["-200%","0%"],opacity:1,duration:260,delay:0,elasticity:40,easing:"easeInOutCubic",complete:function(){anime({targets:e.toArray(),scale:1.6,duration:200,elasticity:0,easing:"easeInOutCubic",complete:function(){anime({targets:e.toArray(),scale:1,duration:800,elasticity:0,easing:"easeOutExpo"})}})}})}function ue(){return WP_Shopify.API.restUrl+WP_Shopify.API.namespace+"/"}function le(){return ue()+"settings/cart_icon_color"}function pe(){return ue()+"syncing/status/posts"}function de(){return ue()+"syncing/status/removal"}function ge(){return ue()+"syncing/stop"}function fe(){return ue()+"syncing/notices"}function he(){return ue()+"syncing/indicator"}function ye(){return ue()+"syncing/counts"}function me(){return ue()+"smart_collections"}function we(){return ue()+"custom_collections"}function be(){return ue()+"products"}function _e(){return ue()+"collects"}function ve(){return ue()+"shop"}function xe(){return ue()+"cache"}function ke(){return ue()+"clear/all"}function Se(){return ue()+"clear/synced"}function je(){return ue()+"license"}function Ce(){return ue()+"license/delete"}function Pe(){return ue()+"connection/delete"}function Te(){return ue()+"connection/check"}function Ee(){return ue()+"media/counts"}function Oe(){jQuery(".wps-notice.is-dismissible .notice-dismiss").on("click",(function(e){jQuery(e.currentTarget).parent().fadeOut()}))}function Qe(){jQuery(".wps-notice .notice-dismiss, #wps-allow-tracking, #wps-dismiss-tracking").off().on("click",function(){var e=d()(o.a.mark((function e(t,n){var r,a,s,i,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jQuery(this).closest(".notice.is-dismissible"),a="true"===jQuery(this).attr("data-dismiss-value"),s=r.attr("data-dismiss-name"),i=r.attr("data-dismiss-type"),!s){e.next=11;break}return e.next=7,Object(g.a)(es(ue()+"notices/dismiss",{dismiss_name:s,dismiss_type:i,dismiss_value:a}));case 7:c=e.sent,(u=l()(c,2))[0],u[1];case 11:r.fadeOut();case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}())}n("./node_modules/lodash/mapKeys.js"),n("./node_modules/lodash/split.js");var Ie=n("./node_modules/lodash/orderBy.js"),We=n.n(Ie),ze=n("./node_modules/lodash/toInteger.js"),De=n.n(ze),Ae=n("./node_modules/lodash/isFinite.js"),He=n.n(Ae),Be=n("./node_modules/lodash/omit.js"),Ue=n.n(Be);function Le(){return Xa(ue()+"syncing/status")}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return es(he(),e)}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return es(ye(),e)}function Re(){return es(ue()+"posts/products")}function Fe(){return es(ue()+"posts/collections")}function Ge(){return es(ue()+"media/upload")}var qe=n("./node_modules/easytimer.js/dist/easytimer.js"),Ze=n.n(qe);function $e(){WP_Shopify.timers.syncing&&WP_Shopify.timers.syncing.stop()}function Ye(){var e=new Ze.a;!function(e){e.addEventListener("secondsUpdated",(function(t){jQuery("#wps-sync-duration").html(e.getTimeValues().toString())}))}(e),function(e){e.start()}(e),WP_Shopify.timers.syncing=e}function Je(){return"true"===localStorage.getItem("wps-connection-in-progress")}function Ve(e){localStorage.setItem("wps-connection-in-progress",e)}function Ke(){return localStorage.getItem("wps-modal-connector-cache")}function Xe(e){localStorage.setItem("wps-is-canceling",e)}function et(){return"true"===localStorage.getItem("wps-is-canceling")&&(jQuery(".wps-connector").addClass("wps-is-stopping"),!0)}function tt(){localStorage.clear(),WP_Shopify.manuallyCanceled=!1,WP_Shopify.reconnectingWebhooks=!1,WP_Shopify.isSyncing=!1,WP_Shopify.isClearing=!1,WP_Shopify.isConnecting=!1,WP_Shopify.isDisconnecting=!1}function nt(e){return es(ue()+"settings/products_add_to_cart_color",e)}function rt(e){return es(ue()+"settings/products_variant_color",e)}function at(e){return es(ue()+"settings/cart_checkout_color",e)}function st(e){return es(ue()+"settings/cart_counter_color",e)}function it(e){return es(le(),e)}function ct(e){return es(le(),e)}function ot(e){return es(endpointSettingCartCounterFixedColor(),e)}function ut(e){return es(ue()+"settings/cart_icon_fixed_color",e)}function lt(){return Xa(ue()+"settings/selected_collections")}function pt(){et()||(jQuery(".wps-connector").addClass("wps-is-stopping"),ma(ca()),Rr("Stopping"),Gr(),qr("Canceling, please wait ...","(This may take up to 30 seconds)"),Xe(!0))}function dt(){return Promise.all([es(ue()+"collections"),lt()])}function gt(){return Promise.all([es(ue()+"notices"),es(fe()),es(xe())])}function ft(){return Promise.all([new Promise(function(){var e=d()(o.a.mark((function e(t,n){var r,a,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pa()){e.next=2;break}return e.abrupt("return",t());case 2:return e.next=4,Object(g.a)(Re());case 4:r=e.sent,a=l()(r,2),s=a[0],i=a[1],s?n(s):t(i);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),new Promise(function(){var e=d()(o.a.mark((function e(t,n){var r,a,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ea()){e.next=2;break}return e.abrupt("return",t());case 2:return e.next=4,Object(g.a)(Fe());case 4:r=e.sent,a=l()(r,2),s=a[0],i=a[1],s?n(s):t(i);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())])}var ht=function(){return WP_Shopify.settings.isLiteSync},yt=function(){return WP_Shopify.settings.isSyncingPosts};function mt(e){return{xMark:!0,stepText:"Syncing failed",headingText:"Syncing failed",noticeList:[{type:pa(e),message:la(e)}]}}function wt(e){return{xMark:!0,stepText:"Syncing failed from client-side",headingText:"Syncing failed",noticeList:[{type:"error",message:da(e)}]}}function bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return es(be(),e)}function _t(){return es(ue()+"products/count")}function vt(){return es(ue()+"products/ids")}function xt(){return Me({syncing:!0})}var kt=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),St=n.n(kt),jt=n("./node_modules/@babel/runtime/helpers/typeof.js"),Ct=n.n(jt),Pt=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),Tt=n.n(Pt),Et=n("./node_modules/@babel/runtime/helpers/createClass.js"),Ot=n.n(Et),Qt=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),It=n.n(Qt),Wt=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),zt=n.n(Wt),Dt=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),At=n.n(Dt),Ht=n("./node_modules/@babel/runtime/helpers/inherits.js"),Bt=n.n(Ht),Ut=n("./node_modules/react-color/lib/index.js"),Lt=n("./node_modules/reactcss/lib/index.js"),Mt=n.n(Lt);function Nt(){return Mt()({default:{wrapper:{padding:"4px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}})}function Rt(e){return{backgroundColor:e,width:"40px",height:"20px"}}var Ft=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"updateColor",(function(e){return rt(e)})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(Kt,{color:WP_Shopify.settings.colorVariant,updateColor:this.updateColor,pickerType:"variant"})}}]),t}(a.a.Component),Gt=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"updateColor",(function(e){return nt(e)})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(Kt,{color:WP_Shopify.settings.colorAddToCart,updateColor:this.updateColor,pickerType:"add-to-cart"})}}]),t}(a.a.Component),qt=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"updateColor",(function(e){return at(e)})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(Kt,{color:WP_Shopify.settings.colorCheckout,updateColor:this.updateColor,pickerType:"checkout"})}}]),t}(a.a.Component),Zt=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"updateColor",(function(e){return st(e)})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(Kt,{color:WP_Shopify.settings.colorCartCounter,updateColor:this.updateColor,pickerType:"cart-counter"})}}]),t}(a.a.Component),$t=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"updateColor",(function(e){return ot(e)})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(Kt,{color:WP_Shopify.settings.cartCounterFixedColor,updateColor:this.updateColor,pickerType:"cart-counter-fixed"})}}]),t}(a.a.Component),Yt=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"updateColor",(function(e){return ct(e)})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(Kt,{color:WP_Shopify.settings.cartFixedBackgroundColor,updateColor:this.updateColor,pickerType:"cart-fixed-background-color"})}}]),t}(a.a.Component),Jt=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"updateColor",(function(e){return it(e)})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(Kt,{color:WP_Shopify.settings.colorCartIcon,updateColor:this.updateColor,pickerType:"cart-icon"})}}]),t}(a.a.Component),Vt=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"updateColor",(function(e){return ut(e)})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(Kt,{color:WP_Shopify.settings.cartIconFixedColor,updateColor:this.updateColor,pickerType:"cart-icon-fixed"})}}]),t}(a.a.Component),Kt=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{ready:!1,displayColorPicker:!1,color:n.props.color,pickerStyles:Nt(),swatchStyles:Rt(n.props.color),componentId:"wps-component-"+n.props.pickerType+"-color-swatch",colorHasChanged:!1,submitButton:jQuery("#submitSettings")}),St()(At()(n),"componentDidMount",(function(e){jQuery('[data-testid="'+n.state.componentId+'"]').closest(".wps-form-group").find(".wps-placeholder").remove()})),St()(At()(n),"closePicker",(function(){return n.setState({displayColorPicker:!1})})),St()(At()(n),"handleClick",(function(){return n.setState({displayColorPicker:!n.state.displayColorPicker})})),St()(At()(n),"handleClose",d()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.colorHasChanged){e.next=2;break}return e.abrupt("return",n.closePicker());case 2:n.closePicker();case 3:case"end":return e.stop()}}),e)})))),St()(At()(n),"handleChange",(function(e){n.setState({swatchStyles:Rt(e.hex),color:e.hex,colorHasChanged:e.hex!==n.state.color})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",{className:"wps-color-swatch-wrapper",style:this.state.pickerStyles.wrapper,onClick:this.handleClick,"data-testid":this.state.componentId},a.a.createElement("div",{className:"wps-color-swatch",style:this.state.swatchStyles,"data-color":this.state.color,"data-picker-type":this.props.pickerType})),this.state.displayColorPicker?a.a.createElement("div",{style:this.state.pickerStyles.popover},a.a.createElement("div",{style:this.state.pickerStyles.cover,onClick:this.handleClose}),a.a.createElement(Ut.ChromePicker,{color:this.state.color,onChange:this.handleChange})):null)}}]),t}(a.a.Component);var Xt=n("./node_modules/@wordpress/components/build-module/text-control/index.js"),en=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{value:WP_Shopify.settings.productsHeading}),St()(At()(n),"onUpdateHandle",(function(e){n.setState({value:e})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(Xt.a,{value:this.state.value,onChange:this.onUpdateHandle,"aria-describedby":"wps-products-heading-toggle",disabled:!ja(WP_Shopify.settings.productsHeadingToggle)})}}]),t}(a.a.Component);var tn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{value:WP_Shopify.settings.collectionsHeading}),St()(At()(n),"onUpdateHandle",(function(e){n.setState({value:e})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(Xt.a,{value:this.state.value,onChange:this.onUpdateHandle,"aria-describedby":"wps-collections-heading-toggle",disabled:!ja(WP_Shopify.settings.collectionsHeadingToggle)})}}]),t}(a.a.Component);var nn=n("./node_modules/@wordpress/components/build-module/form-toggle/index.js"),rn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{checked:ja(WP_Shopify.settings.productsHeadingToggle)}),St()(At()(n),"onChangeHandle",function(){var e=d()(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState((function(e){return{checked:!n.state.checked}})),jQuery('input[aria-describedby="wps-products-heading-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(nn.a,{checked:this.state.checked,onChange:this.onChangeHandle,id:"wps-products-heading-toggle"})}}]),t}(a.a.Component);var an=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{checked:ja(WP_Shopify.settings.productsPLPDescriptionsToggle)}),St()(At()(n),"onChangeHandle",function(){var e=d()(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState((function(e){return{checked:!n.state.checked}})),jQuery('input[aria-describedby="wps-products-plp-descriptions-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(nn.a,{checked:this.state.checked,onChange:this.onChangeHandle,id:"wps-products-plp-descriptions-toggle"})}}]),t}(a.a.Component);var sn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{checked:ja(WP_Shopify.settings.collectionsHeadingToggle)}),St()(At()(n),"onToggleHandle",(function(e){n.setState((function(e){return{checked:!n.state.checked}})),jQuery('input[aria-describedby="wps-collections-heading-toggle"]').attr("disabled",n.state.checked)})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(nn.a,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-collections-heading-toggle"})}}]),t}(a.a.Component);var cn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{checked:ja(WP_Shopify.settings.productsImagesSizingToggle)}),St()(At()(n),"onToggleHandle",function(){var e=d()(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({checked:!n.state.checked}),jQuery('[aria-describedby="wps-products-images-sizing-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(nn.a,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-products-images-sizing-toggle"})}}]),t}(a.a.Component);var on=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{value:0===WP_Shopify.settings.productsImagesSizingWidth?"auto":WP_Shopify.settings.productsImagesSizingWidth}),St()(At()(n),"onUpdateHandle",(function(e){n.setState({value:e})})),St()(At()(n),"onBlurHandle",(function(e){n.setState({value:$a(e.currentTarget.value)})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(Xt.a,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!ja(WP_Shopify.settings.productsImagesSizingToggle)})}}]),t}(a.a.Component);var un=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{value:0===WP_Shopify.settings.productsImagesSizingHeight?"auto":WP_Shopify.settings.productsImagesSizingHeight}),St()(At()(n),"onUpdateHandle",(function(e){n.setState({value:e})})),St()(At()(n),"onBlurHandle",(function(e){n.setState({value:$a(e.currentTarget.value)})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(Xt.a,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!ja(WP_Shopify.settings.productsImagesSizingToggle)})}}]),t}(a.a.Component);var ln=n("./node_modules/@wordpress/components/build-module/select-control/index.js"),pn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{value:WP_Shopify.settings.productsImagesSizingCrop}),St()(At()(n),"onUpdateHandle",(function(e){n.setState({value:e})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(ln.a,{value:this.state.value,options:[{label:"None",value:"none"},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:this.onUpdateHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!ja(WP_Shopify.settings.productsImagesSizingToggle)})}}]),t}(a.a.Component);var dn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{value:!1===WP_Shopify.settings.productsImagesSizingScale?"none":WP_Shopify.settings.productsImagesSizingScale}),St()(At()(n),"onUpdateHandle",(function(e){n.setState({value:e})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(ln.a,{value:this.state.value,options:[{label:"None",value:!1},{label:"2",value:2},{label:"3",value:3}],onChange:this.onUpdateHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!ja(WP_Shopify.settings.productsImagesSizingToggle)})}}]),t}(a.a.Component);var gn=n("./node_modules/@wordpress/components/build-module/checkbox-control/index.js");a.a.Component;var fn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{checked:ja(WP_Shopify.settings.collectionsImagesSizingToggle)}),St()(At()(n),"onToggleHandle",function(){var e=d()(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({checked:!n.state.checked}),jQuery('[aria-describedby="wps-collections-images-sizing-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(nn.a,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-collections-images-sizing-toggle"})}}]),t}(a.a.Component);var hn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{value:0===WP_Shopify.settings.collectionsImagesSizingWidth?"auto":WP_Shopify.settings.collectionsImagesSizingWidth}),St()(At()(n),"onUpdateHandle",(function(e){n.setState({value:e})})),St()(At()(n),"onBlurHandle",(function(e){n.setState({value:$a(e.currentTarget.value)})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(Xt.a,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!ja(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),t}(a.a.Component);var yn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{value:0===WP_Shopify.settings.collectionsImagesSizingHeight?"auto":WP_Shopify.settings.collectionsImagesSizingHeight}),St()(At()(n),"onUpdateHandle",(function(e){n.setState({value:e})})),St()(At()(n),"onBlurHandle",(function(e){n.setState({value:$a(e.currentTarget.value)})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(Xt.a,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!ja(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),t}(a.a.Component);var mn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{value:WP_Shopify.settings.collectionsImagesSizingCrop}),St()(At()(n),"onUpdateHandle",(function(e){n.setState({value:e})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(ln.a,{value:this.state.value,options:[{label:"None",value:"none"},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:this.onUpdateHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!ja(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),t}(a.a.Component);var wn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{value:!1===WP_Shopify.settings.collectionsImagesSizingScale?"none":WP_Shopify.settings.collectionsImagesSizingScale}),St()(At()(n),"onUpdateHandle",(function(e){n.setState({value:e})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(ln.a,{value:this.state.value,options:[{label:"None",value:!1},{label:"2",value:2},{label:"3",value:3}],onChange:this.onUpdateHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!ja(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),t}(a.a.Component);var bn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{checked:ja(WP_Shopify.settings.enableCustomCheckoutDomain)}),St()(At()(n),"onUpdateHandle",(function(e){n.setState({checked:!n.state.checked})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(gn.a,{checked:this.state.checked,onChange:this.onUpdateHandle})}}]),t}(a.a.Component);var _n=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{value:!1===WP_Shopify.settings.checkoutButtonTarget?"none":WP_Shopify.settings.checkoutButtonTarget}),St()(At()(n),"onUpdateHandle",(function(e){n.setState({value:e})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(ln.a,{value:this.state.value,options:[{label:"Current tab / window",value:"_self"},{label:"New tab / window",value:"_blank"}],onChange:this.onUpdateHandle})}}]),t}(a.a.Component);var vn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{checked:WP_Shopify.settings.cartShowFixedCartTab}),St()(At()(n),"onChangeHandle",(function(e){n.setState({checked:!n.state.checked})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(gn.a,{checked:this.state.checked,onChange:this.onChangeHandle})}}]),t}(a.a.Component);var xn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{checked:ja(WP_Shopify.settings.pricingCompareAt)}),St()(At()(n),"onChangeHandle",(function(e){n.setState({checked:!n.state.checked})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(gn.a,{checked:this.state.checked,onChange:this.onChangeHandle})}}]),t}(a.a.Component);var kn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{checked:ja(WP_Shopify.settings.pricingShowPriceRange)}),St()(At()(n),"onChangeHandle",(function(e){n.setState({checked:!n.state.checked})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(gn.a,{checked:this.state.checked,onChange:this.onChangeHandle})}}]),t}(a.a.Component);var Sn=function(e){function t(){var e,n;Tt()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=It()(this,(e=zt()(t)).call.apply(e,[this].concat(a))),St()(At()(n),"state",{checked:ja(WP_Shopify.settings.synchronousSync)}),St()(At()(n),"onChangeHandle",(function(e){n.setState({checked:!n.state.checked})})),n}return Bt()(t,e),Ot()(t,[{key:"render",value:function(){return a.a.createElement(gn.a,{checked:this.state.checked,onChange:this.onChangeHandle,id:"wps-settings-syncing-synchronous"})}}]),t}(a.a.Component);function jn(e){return"undefined"===Ct()(e)}function Cn(e,t,n){var r=e.find(t).attr(n);return!jn(r)&&r}function Pn(e,t){var n=e.find(t).prop("checked");return!jn(n)&&n}function Tn(e,t){var n=e.find(t).val();return!jn(n)&&n}function En(e){WP_Shopify.itemsPerRequest=e.wps_settings_general_items_per_request,WP_Shopify.settings.connection.saveConnectionOnly=e.wps_settings_general_save_connection_only,WP_Shopify.settings.isSyncingPosts=e.wps_settings_is_syncing_posts,WP_Shopify.settings.isLiteSync=e.wps_settings_is_lite_sync}function On(e){var t;if(!1===Pn(e,"#wps-settings-syncing-type input:first-of-type"))var n=!1,r=!0;else n=!0,r=!1;return t={wps_settings_general_products_url:Tn(e,"#wps_settings_general_url_products"),wps_settings_general_collections_url:Tn(e,"#wps_settings_general_url_collections"),wps_settings_general_num_posts:Tn(e,"#wps_settings_general_num_posts"),wps_settings_general_products_link_to_shopify:Pn(e,"#wps_settings_general_products_link_to_shopify"),wps_settings_general_disable_default_pages:Pn(e,"#wps-settings-disable-default-pages input"),wps_settings_general_show_breadcrumbs:Pn(e,"#wps_settings_general_show_breadcrumbs"),wps_settings_general_align_height:Pn(e,"#wps-settings-align-height input"),wps_settings_general_hide_pagination:Pn(e,"#wps_settings_general_hide_pagination"),wps_settings_general_styles_all:Pn(e,"#wps_settings_general_styles_all"),wps_settings_general_styles_core:Pn(e,"#wps_settings_general_styles_core"),wps_settings_general_styles_grid:Pn(e,"#wps_settings_general_styles_grid"),wps_settings_general_price_with_currency:Pn(e,"#wps_settings_general_price_with_currency"),wps_settings_pricing_currency_display_style:Tn(e,"#wps-settings-currency-display-style input:checked"),wps_settings_pricing_hide_decimals:Pn(e,"#wps-settings-hide-decimals input"),wps_settings_pricing_hide_decimals_all:Tn(e,"#wps-settings-hide-decimals-all input:checked"),wps_settings_pricing_hide_decimals_only_zeros:Tn(e,"#wps-settings-hide-decimals-only-zeros input:checked"),wps_settings_general_cart_loaded:Pn(e,"#wps_settings_general_cart_loaded"),wps_settings_general_enable_beta:Pn(e,"#wps_settings_general_enable_beta"),wps_settings_general_enable_cart_terms:Pn(e,"#wps-settings-cart-enable-terms input"),wps_settings_general_cart_terms_content:Tn(e,"#wps-settings-cart-terms textarea"),wps_settings_general_enable_cart_notes:Pn(e,"#wps-settings-cart-enable-notes input"),wps_settings_general_cart_notes_placeholder:Tn(e,"#wps-settings-cart-notes-placeholder textarea"),wps_settings_general_save_connection_only:Pn(e,"#wps_settings_general_save_connection_only"),wps_settings_general_related_products_show:Pn(e,"#wps_settings_general_related_products_show"),wps_settings_general_related_products_sort:Tn(e,"#wps_settings_general_related_products_sort_type input:checked"),wps_settings_general_related_products_amount:Tn(e,"#wps_settings_general_related_products_amount"),wps_settings_general_items_per_request:parseInt(e.find("#wps-items-per-request-amount").text()),wps_settings_general_add_to_cart_color:Cn(e,'.wps-color-swatch[data-picker-type="add-to-cart"]',"data-color"),wps_settings_general_variant_color:Cn(e,'.wps-color-swatch[data-picker-type="variant"]',"data-color"),wps_settings_general_checkout_button_color:Cn(e,'.wps-color-swatch[data-picker-type="checkout"]',"data-color"),wps_settings_general_cart_icon_color:Cn(e,'.wps-color-swatch[data-picker-type="cart-icon"]',"data-color"),wps_settings_general_cart_counter_color:Cn(e,'.wps-color-swatch[data-picker-type="cart-counter"]',"data-color"),wps_settings_general_cart_icon_fixed_color:Cn(e,'.wps-color-swatch[data-picker-type="cart-icon-fixed"]',"data-color"),wps_settings_general_cart_counter_fixed_color:Cn(e,'.wps-color-swatch[data-picker-type="cart-counter-fixed"]',"data-color"),wps_settings_general_cart_fixed_background_color:Cn(e,'.wps-color-swatch[data-picker-type="cart-fixed-background-color"]',"data-color"),wps_settings_general_products_heading_toggle:Pn(e,"#wps-products-heading-toggle"),wps_settings_general_products_plp_descriptions_toggle:Pn(e,"#wps-products-plp-descriptions-toggle"),wps_settings_general_products_heading:Tn(e,"#wps-settings-products-heading input"),wps_settings_general_collections_heading_toggle:Pn(e,"#wps-collections-heading-toggle"),wps_settings_general_collections_heading:Tn(e,"#wps-settings-collections-heading input"),wps_settings_general_related_products_heading_toggle:Pn(e,"#wps-related-products-heading-toggle"),wps_settings_general_related_products_heading:Tn(e,"#wps-settings-related-products-heading input"),wps_settings_products_images_sizing_toggle:Pn(e,"#wps-products-images-sizing-toggle"),wps_settings_products_images_sizing_width:Tn(e,"#wps-settings-products-images-sizing-width input"),wps_settings_products_images_sizing_height:Tn(e,"#wps-settings-products-images-sizing-height input"),wps_settings_products_images_sizing_crop:Tn(e,"#wps-settings-products-images-sizing-crop select"),wps_settings_products_images_sizing_scale:Tn(e,"#wps-settings-products-images-sizing-scale select"),wps_settings_products_thumbnail_images_sizing_toggle:Pn(e,"#wps-settings-products-thumbnail-images-sizing-toggle input"),wps_settings_products_thumbnail_images_sizing_width:Tn(e,"#wps-settings-products-thumbnail-images-sizing-width input"),wps_settings_products_thumbnail_images_sizing_height:Tn(e,"#wps-settings-products-thumbnail-images-sizing-height input"),wps_settings_products_thumbnail_images_sizing_crop:Tn(e,"#wps-settings-products-thumbnail-images-sizing-crop select"),wps_settings_products_thumbnail_images_sizing_scale:Tn(e,"#wps-settings-products-thumbnail-images-sizing-scale select"),wps_settings_collections_images_sizing_toggle:Pn(e,"#wps-settings-collections-images-sizing-toggle input"),wps_settings_collections_images_sizing_width:Tn(e,"#wps-settings-collections-images-sizing-width input"),wps_settings_collections_images_sizing_height:Tn(e,"#wps-settings-collections-images-sizing-height input"),wps_settings_collections_images_sizing_crop:Tn(e,"#wps-settings-collections-images-sizing-crop select"),wps_settings_collections_images_sizing_scale:Tn(e,"#wps-settings-collections-images-sizing-scale select"),wps_settings_related_products_images_sizing_toggle:Pn(e,"#wps-related-products-images-sizing-toggle"),wps_settings_related_products_images_sizing_width:Tn(e,"#wps-settings-related-products-images-sizing-width input"),wps_settings_related_products_images_sizing_height:Tn(e,"#wps-settings-related-products-images-sizing-height input"),wps_settings_related_products_images_sizing_crop:Tn(e,"#wps-settings-related-products-images-sizing-crop select"),wps_settings_related_products_images_sizing_scale:Tn(e,"#wps-settings-related-products-images-sizing-scale select"),wps_settings_products_compare_at:Pn(e,"#wps-settings-pricing-compare-at input"),wps_settings_checkout_enable_custom_checkout_domain:Pn(e,"#wps-enable-custom-checkout-domain input"),wps_settings_products_show_price_range:Pn(e,"#wps-settings-pricing-show-price-range input"),wps_settings_checkout_button_target:Tn(e,"#wps-settings-checkout-button-target select"),wps_settings_show_fixed_cart_tab:Pn(e,"#wps-settings-cart-show-fixed-cart-tab input"),wps_settings_synchronous_sync:Pn(e,"#wps-settings-syncing-synchronous input"),wps_settings_sync_media:Pn(e,"#wps-settings-syncing-sync-media input"),wps_settings_is_lite_sync:n,wps_settings_is_syncing_posts:r},St()(t,"wps_settings_products_images_sizing_scale",Tn(e,"#wps-settings-products-images-sizing-scale select")),St()(t,"wps_settings_enable_data_cache",Pn(e,"#wps-settings-cache-enable-data-cache input")),St()(t,"wps_settings_data_cache_length",Tn(e,"#wps-settings-cache-data-cache-length select")),t}function Qn(){if(WP_Shopify.selective_sync.all)return[];return[]}function In(e){var t=jQuery("#wps-sync-by-collections");t.empty(),h()(e,(function(e){var n={id:e.id,smart:!1};H()(e,"rules")&&(n.smart=!0),t.append('<option id="wps-collection-option" value="'+btoa(JSON.stringify(n))+'">'+e.title+"</option>")}))}function Wn(){return zn.apply(this,arguments)}function zn(){return(zn=d()(o.a.mark((function e(){var t,n,r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(La()){e.next=2;break}return e.abrupt("return",Zr());case 2:return e.next=4,Object(g.a)(dt());case 4:if(t=e.sent,n=l()(t,2),r=n[0],a=n[1],!r){e.next=10;break}return e.abrupt("return",Zr(da(r)));case 10:if(!oa(a)){e.next=12;break}return e.abrupt("return",Zr(la(Ha(a))));case 12:s=a[0],a[1],200===s.status&&H()(s,"data")?In(s.data):Zr();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dn(){var e,t,n;jQuery("#wps-settings").submit((function(e){e.preventDefault()})).validate({rules:{"wps_settings_general[wps_general_url_products]":{alphaNumeric:!1},"wps_settings_general[wps_general_url_collections]":{alphaNumeric:!1},"wps_settings_general[wps_general_num_posts]":{number:!0}},errorPlacement:function(e){Kr(e.text(),"error")},submitHandler:(e=d()(o.a.mark((function e(t){var n,r,a,s,i,c,u,p,d,f,h,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jQuery(t),r=n.find("#submitSettings"),a=n.find(".spinner"),ma(r),$r(a),!1===(s=On(n)).wps_settings_selective_sync_all&&!1===s.wps_settings_selective_sync_products&&!1===s.wps_settings_selective_sync_collections&&!1===s.wps_settings_selective_sync_customers&&!1===s.wps_settings_selective_sync_orders&&(s.wps_settings_selective_sync_all=!0),En(s),e.next=10,Object(g.a)(es(ue()+"settings",{settings:s}));case 10:if(i=e.sent,c=l()(i,2),u=c[0],p=c[1],!u){e.next=17;break}return Kr(da(u)),e.abrupt("return");case 17:if(!oa(p)){e.next=20;break}return Kr(la(p),pa(p)),e.abrupt("return");case 20:return e.next=22,Object(g.a)(gt());case 22:if(d=e.sent,f=l()(d,2),h=f[0],y=f[1],!h){e.next=29;break}return Kr(da(h)),e.abrupt("return");case 29:if(!oa(y)){e.next=32;break}return Kr(la(y),pa(y)),e.abrupt("return");case 32:Kr("Successfully updated WP Shopify settings","updated");case 33:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}),jQuery(".wps-checkbox-all input").on("click",(function(){var e=jQuery(this);"undefined"!==Ct()(e.attr("checked"))&&!1!==e.attr("checked")?e.closest(".wps-checkbox-wrapper").find(".wps-checkbox").attr("checked",!1).prop("checked",!1).attr("disabled",!0).parent().addClass("wps-is-disabled"):e.closest(".wps-checkbox-wrapper").find(".wps-checkbox").attr("disabled",!1).parent().removeClass("wps-is-disabled")})),jQuery(".wps-sub-section-link").on("click",(function(e){e.preventDefault();var t=jQuery(this).data("sub-section");jQuery(".wps-sub-section-link").removeClass("current"),jQuery(this).addClass("current"),jQuery(".wps-admin-sub-section").removeClass("is-active"),jQuery("#"+t).addClass("is-active")})),jQuery(".wps-chosen").chosen({no_results_text:"Oops, nothing found!",width:"300px"}).change((function(e){})),Wn(),t=jQuery(".wps-slider-items-per-request"),n=jQuery("#wps-items-per-request-amount"),t.slider({range:"max",value:parseInt(n.text()),min:1,max:parseInt(WP_Shopify.maxItemsPerRequest),slide:function(e,t){n.text(t.value)}}),i.a.render(a.a.createElement(Gt,null),document.getElementById("wps-color-picker-add-to-cart")),i.a.render(a.a.createElement(Ft,null),document.getElementById("wps-color-picker-variant")),i.a.render(a.a.createElement(qt,null),document.getElementById("wps-color-picker-checkout")),i.a.render(a.a.createElement(Zt,null),document.getElementById("wps-color-picker-cart-counter")),i.a.render(a.a.createElement(Jt,null),document.getElementById("wps-color-picker-cart-icon")),i.a.render(a.a.createElement($t,null),document.getElementById("wps-color-picker-cart-counter-fixed")),i.a.render(a.a.createElement(Yt,null),document.getElementById("wps-color-picker-cart-fixed-background-color")),i.a.render(a.a.createElement(Vt,null),document.getElementById("wps-color-picker-cart-icon-fixed")),i.a.render(a.a.createElement(rn,null),document.getElementById("wps-settings-products-heading-toggle")),i.a.render(a.a.createElement(en,null),document.getElementById("wps-settings-products-heading")),i.a.render(a.a.createElement(an,null),document.getElementById("wps-settings-products-plp-descriptions-toggle")),i.a.render(a.a.createElement(sn,null),document.getElementById("wps-settings-collections-heading-toggle")),i.a.render(a.a.createElement(tn,null),document.getElementById("wps-settings-collections-heading")),i.a.render(a.a.createElement(cn,null),document.getElementById("wps-settings-products-images-sizing-toggle")),i.a.render(a.a.createElement(on,null),document.getElementById("wps-settings-products-images-sizing-width")),i.a.render(a.a.createElement(un,null),document.getElementById("wps-settings-products-images-sizing-height")),i.a.render(a.a.createElement(pn,null),document.getElementById("wps-settings-products-images-sizing-crop")),i.a.render(a.a.createElement(dn,null),document.getElementById("wps-settings-products-images-sizing-scale")),i.a.render(a.a.createElement(fn,null),document.getElementById("wps-settings-collections-images-sizing-toggle")),i.a.render(a.a.createElement(hn,null),document.getElementById("wps-settings-collections-images-sizing-width")),i.a.render(a.a.createElement(yn,null),document.getElementById("wps-settings-collections-images-sizing-height")),i.a.render(a.a.createElement(mn,null),document.getElementById("wps-settings-collections-images-sizing-crop")),i.a.render(a.a.createElement(wn,null),document.getElementById("wps-settings-collections-images-sizing-scale")),i.a.render(a.a.createElement(bn,null),document.getElementById("wps-enable-custom-checkout-domain")),i.a.render(a.a.createElement(xn,null),document.getElementById("wps-settings-pricing-compare-at")),i.a.render(a.a.createElement(kn,null),document.getElementById("wps-settings-pricing-show-price-range")),i.a.render(a.a.createElement(_n,null),document.getElementById("wps-settings-checkout-button-target")),i.a.render(a.a.createElement(vn,null),document.getElementById("wps-settings-cart-show-fixed-cart-tab")),i.a.render(a.a.createElement(Sn,null),document.getElementById("wps-settings-syncing-synchronous"))}function An(){jQuery("#wps-button-sync").off().on("click",(function(e){return e.preventDefault(),Nr("Resyncing","Cancel resync"),new Promise(function(){var e=d()(o.a.mark((function e(t,n){var r,a,s,i,c,u,p,f,h,y,m,w;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gr(),qr("Preparing for sync ..."),e.next=4,Object(g.a)(gt());case 4:if(r=e.sent,a=l()(r,2),s=a[0],i=a[1],!s){e.next=11;break}return Vn(wt(s)),e.abrupt("return",t());case 11:if(!oa(i)){e.next=14;break}return Vn(mt(i)),e.abrupt("return",t());case 14:if(!Tr()){e.next=17;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());case 17:return e.next=19,Object(g.a)(xt());case 19:if(c=e.sent,u=l()(c,2),p=u[0],f=u[1],!p){e.next=26;break}return Vn(mt(p)),e.abrupt("return",t());case 26:if(!oa(f)){e.next=29;break}return Vn(mt(f)),e.abrupt("return",t());case 29:if(!Tr()){e.next=32;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());case 32:return Gr(),qr("Removing any existing data first ...","(Please wait, this might take 30 seconds or so)"),e.next=36,Object(g.a)(es(Se()));case 36:if(h=e.sent,y=l()(h,2),m=y[0],w=y[1],!m){e.next=43;break}return Vn(wt(m)),e.abrupt("return",t());case 43:if(!oa(w)){e.next=46;break}return Vn(mt(w)),e.abrupt("return",t());case 46:if(!Tr()){e.next=49;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());case 49:WP_Shopify.isSyncing=!0,Qr(function(){var e=d()(o.a.mark((function e(n){var r,a,s,i,c,u,p,d,f,h,y,m,w,b,_,v,x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ua(n)){e.next=3;break}return Vn(wt(n)),e.abrupt("return",t());case 3:if(!oa(n)){e.next=6;break}return Vn(mt(n)),e.abrupt("return",t());case 6:if(!Tr()){e.next=9;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());case 9:return Gr(),qr("Determining the number of items to sync ..."),e.next=13,Object(g.a)(ws());case 13:if(r=e.sent,a=l()(r,2),s=a[0],i=a[1],!s){e.next=20;break}return Vn(wt(s)),e.abrupt("return",t());case 20:if(!oa(i)){e.next=23;break}return Vn(mt(i)),e.abrupt("return",t());case 23:if(!Tr()){e.next=26;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());case 26:return c=Ma(Ra(Na(ka(i)))),e.next=29,Object(g.a)(Ne({counts:c,exclusions:["webhooks","media"]}));case 29:if(u=e.sent,p=l()(u,2),d=p[0],f=p[1],!d){e.next=36;break}return Vn(wt(d)),e.abrupt("return",t());case 36:if(!oa(f)){e.next=39;break}return Vn(mt(f)),e.abrupt("return",t());case 39:if(!Tr()){e.next=42;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());case 42:return e.next=44,Object(g.a)(vt());case 44:if(h=e.sent,y=l()(h,2),m=y[0],w=y[1],!m){e.next=51;break}return Vn(wt(m)),e.abrupt("return",t());case 51:if(!oa(w)){e.next=54;break}return Vn(mt(w)),e.abrupt("return",t());case 54:if(!Tr()){e.next=57;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());case 57:return e.next=59,Object(g.a)(tr(!0,Qn(),["webhooks","media"]));case 59:if(b=e.sent,_=l()(b,2),v=_[0],x=_[1],!v){e.next=66;break}return Vn(wt(v)),e.abrupt("return",t());case 66:if(!oa(x)){e.next=69;break}return Vn(mt(x)),e.abrupt("return",t());case 69:if(!Tr()){e.next=72;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());case 72:Gr(),Jr("Cancel resyncing process"),qr("Syncing Shopify data ...","(Please wait, this may take up to 5 minutes depending on the size of your store and speed of internet connection.)"),pr(Fa(c,["webhooks","media"])),Ye(),vr(),hs(c);case 79:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 51:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})),jQuery(".wps-is-active #wps-button-clear-cache").unbind().on("click",function(){var e=d()(o.a.mark((function e(t){var n,r,a,s,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=jQuery(this),r=n.parent().find(".spinner"),ma(n),$r(r),_a(n),tt(),e.next=9,Object(g.a)(gt());case 9:a=e.sent,s=l()(a,2),i=s[0],c=s[1],i&&Kr(da(i)),oa(c)&&(la(c),pa(c)),Kr("Successfully cleared the WP Shopify cache","updated");case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),jQuery("#wps-button-clear-all-data").unbind().on("click",function(){var e=d()(o.a.mark((function e(t){var n,r,a,s,i,c,u,p,f,h,y,m,w,b,_,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Warning: This will delete all WordPress posts created from your Shopify data. Do you really want to remove?")){e.next=72;break}return t.preventDefault(),n=jQuery(this),r=n.parent().find(".spinner"),ma(n),$r(r),_a(n),tt(),WP_Shopify.isClearing=!0,e.next=11,Object(g.a)(es(Te()));case 11:if(a=e.sent,s=l()(a,2),i=s[0],c=s[1],!i){e.next=17;break}return e.abrupt("return",Kr(da(i)));case 17:if(!oa(c)){e.next=19;break}return e.abrupt("return",Kr(la(c),pa(c)));case 19:return e.prev=19,e.next=22,xt();case 22:if(!oa(u=e.sent)){e.next=26;break}return Kr(la(u),pa(u)),e.abrupt("return");case 26:e.next=32;break;case 28:return e.prev=28,e.t0=e.catch(19),Kr(da(e.t0)),e.abrupt("return");case 32:return e.prev=32,e.next=35,gt();case 35:if(!oa(p=e.sent)){e.next=39;break}return Kr(la(p),pa(p)),e.abrupt("return");case 39:e.next=45;break;case 41:return e.prev=41,e.t1=e.catch(32),Kr(da(e.t1)),e.abrupt("return");case 45:if(La()){e.next=61;break}return e.next=48,Object(g.a)(Promise.all([es(ke()),es(Pe())]));case 48:if(f=e.sent,h=l()(f,2),y=h[0],m=h[1],!y){e.next=55;break}return Kr(da(y)),e.abrupt("return");case 55:if(!oa(m)){e.next=58;break}return Kr(Ha(m)),e.abrupt("return");case 58:Qr(d()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kr("Successfully removed all data","updated"),Vr("notice_warning_app_uninstalled"),e.abrupt("return");case 3:case"end":return e.stop()}}),e)})))),e.next=72;break;case 61:return e.next=63,Object(g.a)(es(ke()));case 63:if(w=e.sent,b=l()(w,2),_=b[0],v=b[1],!_){e.next=69;break}return e.abrupt("return",Kr(da(_)));case 69:if(!oa(v)){e.next=71;break}return e.abrupt("return",Kr(la(v),pa(v)));case 71:Qr(d()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!La()){e.next=18;break}return e.prev=1,e.next=4,gt();case 4:if(!oa(t=e.sent)){e.next=8;break}return Kr(la(t),pa(t)),e.abrupt("return");case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),Kr(da(e.t0)),e.abrupt("return");case 14:Kr("Successfully removed all data","updated"),Vr("notice_warning_app_uninstalled"),e.next=33;break;case 18:return e.prev=18,e.next=21,gt();case 21:if(!oa(t=e.sent)){e.next=25;break}return Kr(la(t),pa(t)),e.abrupt("return");case 25:e.next=31;break;case 27:return e.prev=27,e.t1=e.catch(18),Kr(da(e.t1)),e.abrupt("return");case 31:Kr("Successfully removed all data","updated"),Vr("notice_warning_app_uninstalled");case 33:case"end":return e.stop()}}),e,null,[[1,10],[18,27]])}))));case 72:case"end":return e.stop()}}),e,this,[[19,28],[32,41]])})));return function(t){return e.apply(this,arguments)}}())}function Hn(e){return e.preventDefault(),Nr("Disconnecting","Cancel disconnecting"),new Promise(function(){var e=d()(o.a.mark((function e(t,n){var r,a,s,i,c,u,p,d,f,h,y,m,w,b,_,v,x,k,S,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qr("Checking for active connection ..."),WP_Shopify.isDisconnecting=!0,e.next=4,Object(g.a)(xt());case 4:if(r=e.sent,a=l()(r,2),s=a[0],i=a[1],!s){e.next=11;break}return Vn(wt(s)),e.abrupt("return",t());case 11:if(!oa(i)){e.next=14;break}return Vn(mt(Ha(i))),e.abrupt("return",t());case 14:if(!Tr()){e.next=17;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());case 17:return Gr(),qr("Removing added Shopify data ...","(Please wait, this may take up to 5 minutes depending on the size of your store and speed of internet connection.)"),e.next=21,Object(g.a)(es(Se()));case 21:if(c=e.sent,u=l()(c,2),p=u[0],d=u[1],!p){e.next=28;break}return Vn(wt(p)),e.abrupt("return",t());case 28:if(!oa(d)){e.next=31;break}return Vn(mt(Ha(d))),e.abrupt("return",t());case 31:if(!Tr()){e.next=34;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());case 34:return Ga(!1),e.next=37,Object(g.a)(es(Pe()));case 37:if(f=e.sent,h=l()(f,2),y=h[0],m=h[1],!y){e.next=44;break}return Vn(wt(y)),e.abrupt("return",t());case 44:if(!oa(m)){e.next=47;break}return Vn(mt(Ha(m))),e.abrupt("return",t());case 47:if(!Tr()){e.next=50;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());case 50:return Gr(),qr("Cleaning up ..."),e.next=54,Object(g.a)(Me({syncing:!1}));case 54:if(w=e.sent,b=l()(w,2),_=b[0],v=b[1],!_){e.next=61;break}return Vn(wt(_)),e.abrupt("return",t());case 61:if(!oa(v)){e.next=64;break}return Vn(mt(Ha(v))),e.abrupt("return",t());case 64:if(!Tr()){e.next=67;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());case 67:return e.next=69,Object(g.a)(gt());case 69:if(x=e.sent,k=l()(x,2),S=k[0],j=k[1],!S){e.next=76;break}return Vn(wt(S)),e.abrupt("return",t());case 76:if(!oa(j)){e.next=79;break}return Vn(mt(Ha(j))),e.abrupt("return",t());case 79:if(!Tr()){e.next=82;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());case 82:Vn({headingText:"Disconnected",stepText:"Finished disconnecting"}),jQuery(".wps-status-heading .wps-store-name").remove();case 84:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}function Bn(){var e=jQuery("#wps-connect");e.find('input[type="submit"]');jQuery("#wps-connect").off("submit.connect"),jQuery("#wps-connect").off("submit.validate"),jQuery("#wps-connect").data("validator",null),e.off("submit.disconnect").on("submit.disconnect",Hn)}function Un(){Bn()}function Ln(e){var t=[];return e?(v()(e.data.syncing_errors)||h()(e.data.syncing_errors.error,(function(e){t.push({type:"error",message:e})})),v()(e.data.syncing_warnings)||h()(e.data.syncing_warnings.warning,(function(e){e.includes("No Collects were found")||t.push({type:"warning",message:e})})),t):t}function Mn(e){return We()(e,"type","desc")}function Nn(e,t){var n=!1;return h()(e,(function(e){e.type===t&&(n=!0)})),n}function Rn(e){return Nn(e,"error")}function Fn(e){return Nn(e,"warning")}function Gn(e,t){return t&&t.headingText?t.headingText:Rn(e)?"Sync failed with errors":Fn(e)?"Sync completed with warnings":"Sync completed successfully"}function qn(e,t){return t&&t.stepText?t.stepText:Rn(e)?"Finished syncing with errors":Fn(e)?"Finished syncing with warnings":"Finished"}function Zn(e){return e&&e.buttonText?e.buttonText:"Close WP Shopify Sync"}function $n(e){return e&&e.status?e.status:La()?"is-connected":"is-disconnected"}function Yn(e){return!(!e||!e.xMark)&&e.xMark}function Jn(e){var t;La()?(An(),Un(),jQuery("#submitConnect").val("Disconnect your Shopify store").prop("disabled",!1).attr("disabled",!1).attr("name","submitDisconnect").attr("id","submitDisconnect"),(t=jQuery("#wps-connect .wps-form-group input")).length&&t.prop("disabled",!0).attr("disabled",!0),jQuery(".tab-content .wps-is-not-active").removeClass("wps-is-not-active").addClass("wps-is-active"),jQuery('.wps-is-active.wps-button-group input[type="submit"]').prop("disabled",!1),jQuery("#wps-sync-by-collections-checkbox-wrapper").addClass("wps-is-hidden"),jQuery("#wps-sync-by-collections-wrapper").removeClass("wps-is-hidden"),Wn()):(Zr(),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.keepInputs||jQuery("#wps-connect .wps-form-group input").val("").removeClass("valid").prop("disabled",!1)}(e),wa(ca()),ma(jQuery("#wps-button-sync, #wps-button-webhooks")),jQuery('#submitDisconnect, #wps-connect .wps-button-group input[type="submit"]').val("Connect your Shopify store").prop("disabled",!1).attr("disabled",!1).attr("name","submitConnect").attr("id","submitConnect"),ks())}function Vn(){return Kn.apply(this,arguments)}function Kn(){return(Kn=d()(o.a.mark((function e(){var t,n,r,a,s,i,c,u,p=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]&&p[0],!Je()){e.next=34;break}return e.next=4,Object(g.a)(es(ge()));case 4:if(n=e.sent,r=l()(n,2),r[0],r[1],!Tr()){e.next=15;break}return er(),lr(),ia(t),Jn(t),$e(),e.abrupt("return");case 15:return e.next=17,Object(g.a)(Xa(fe()));case 17:a=e.sent,s=l()(a,2),s[0],i=s[1],WP_Shopify.reconnectingWebhooks=!1,er(),lr(),Jn(t),$e(),c=Za(Mn(Ln(i))),t.noticeList&&(u=c.concat(t.noticeList),c=Xn(u)),c=R()(c,"message"),tt(),gt(),setTimeout((function(){var e=jQuery(".wps-progress-bar-wrapper:visible");e.length&&e.animate({height:"toggle",opacity:"toggle"},"fast","swing",(function(){e.addClass("wps-is-hidden")}))}),3e3),ia({headingText:Gn(c,t),buttonText:Zn(t),status:$n(t),stepText:qn(c,t),noticeList:c,xMark:Yn(t)}),Ve(!1);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xn(e){var t=e,n=function(e){return E()(e,(function(e){return"success"===e.type}))}(t);return v()(n)?t:function(e){return E()(e,(function(e){return"success"!==e.type}))}(t).concat(function(e){return E()(e,(function(e){return!e.message.includes("finished syncing your Shopify store. Now")}))}(n))}function er(){jQuery(".wps-connector").addClass("wps-is-finished")}function tr(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(g.a)(Xa(ye()))}function nr(e,t){jQuery(".wps-connector-content > .wps-progress-notice").first().after(function(e,t){var n=e.split("_").join(" ");return"products"===n&&(n="Products <small>(includes images, tags, variants, etc)</small>",t*=6),"custom_collections"===n&&(t*=2),"smart_collections"===n&&(t*=2),"shop"===n&&(n="Shop <small>(includes store name, location, phone number, etc)</small>"),"collects"===n&&(n="Collects <small>(used to assign products to collections)</small>"),"media"===n&&(n='Media <small class="refs"></small>'),jQuery('<div class="wps-progress-bar-wrapper" data-wps-progress-total="'+t+'" id="wps-progress-bar-'+e+'"><span class="wps-progress-step-name">'+n+'</span><span class="wps-progress-step-percentage">0%</span><div class="wps-progress-bar"></div><span class="dashicons dashicons-yes"></span></div>')}(t,e))}function rr(e){se()(e,ar)}function ar(e,t){jQuery("#wps-progress-bar-"+t).data("wps-progress-total",e).attr("data-wps-progress-total",e)}function sr(e){se()(e,ur)}function ir(e){return De()(e)>100}function cr(e){return ir(e)&&(e=100),e}function or(e,t){var n=jQuery("#wps-progress-bar-"+t),r=(n.find(".wps-progress-bar"),De()(n.data("wps-progress-total"))),a=De()(e)/r*100;return Z()(a)?cr(a):(ir(a)&&es(ue()+"syncing/count",{stepName:t,matchTotal:!0}),cr(a))}function ur(e,t){var n,r=or(e,t),a=jQuery("#wps-progress-bar-"+t);!Z()(r)&&He()(r)&&(e==a.data("wps-progress-total")&&(a.hasClass("wps-is-complete")||(a.addClass("wps-is-complete"),oe(a.find(".dashicons-yes")),setTimeout((function(){var e=jQuery("#wps-progress-bar-"+t+":visible");e.length&&e.animate({height:"toggle",opacity:"toggle"},"fast","swing",(function(){e.addClass("wps-is-hidden")}))}),3e3))),a.find(".wps-progress-bar").css("width",r+"%"),a.find(".wps-progress-step-percentage").text((n=Math.round(r),He()(n)?n+"%":"Checking ...")))}function lr(){jQuery(".wps-connector").removeClass("wps-is-syncing")}function pr(e){return jQuery(".wps-connector").addClass("wps-is-syncing"),D()(e)?h()(e,(function(e){return se()(e,nr)})):se()(e.wps_syncing_totals,nr)}function dr(){var e=jQuery(".wps-progress-bar-wrapper");oe(jQuery(".wps-progress-bar-wrapper:not(.wps-is-complete) .dashicons-yes")),e.addClass("wps-is-complete"),e.find(".wps-progress-bar").css("width","100%"),e.find(".wps-progress-step-percentage").text("100%")}function gr(e,t){return j()(e,t)}function fr(e){return e.data.is_syncing}function hr(e){return e.data.has_fatal_errors}function yr(){return new Promise(function(){var e=d()(o.a.mark((function e(t,n){var r,a,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(Le());case 2:if(r=e.sent,a=l()(r,2),s=a[0],i=a[1],!s){e.next=9;break}return dr(),e.abrupt("return",n(Vn(wt(s))));case 9:if(H()(i,"data")){e.next=12;break}return dr(),e.abrupt("return",n(Vn({xMark:!0})));case 12:if(!Tr()){e.next=14;break}return e.abrupt("return",n(Vn()));case 14:if(!(!fr(i)&&hr(i)||hr(i))){e.next=16;break}return e.abrupt("return",n(Vn({xMark:!0})));case 16:t(i);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}function mr(e){if(!e||v()(e))var t=!1;else t=e.slice(-10);if(t){t.forEach((function(e,t){var n=e.split("/"),r=n[n.length-1];setTimeout((function(){jQuery("#wps-progress-bar-media .refs").prepend("<span>"+r+"</span>")}),700*t)}))}}function wr(e){return br.apply(this,arguments)}function br(){return(br=d()(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(yr());case 2:n=e.sent,r=l()(n,2),r[0],(a=r[1])&&(rr(a.data.syncing_totals),sr(a.data.syncing_current_amounts),mr(a.data.recently_syncd_media_ref),gr(a.data.syncing_totals,a.data.syncing_current_amounts)?t():setTimeout((function(){wr(t)}),2e3));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _r(e){return 0===e.data.syncing_totals.products&&0===e.data.syncing_totals.custom_collections&&0===e.data.syncing_totals.smart_collections}function vr(){return xr.apply(this,arguments)}function xr(){return(xr=d()(o.a.mark((function e(){var t,n,r,a,s,i,c,u,p,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(Le());case 2:if(t=e.sent,n=l()(t,2),r=n[0],a=n[1],!r){e.next=9;break}return dr(),e.abrupt("return",Vn(wt(r)));case 9:if(H()(a,"data")){e.next=12;break}return dr(),e.abrupt("return",Vn({xMark:!0}));case 12:if(!Tr()){e.next=14;break}return e.abrupt("return",Vn());case 14:if(!(!fr(a)&&hr(a)||hr(a))){e.next=16;break}return e.abrupt("return",Vn({xMark:!0}));case 16:if(rr(a.data.syncing_totals),sr(a.data.syncing_current_amounts),s=Ue()(a.data.syncing_totals,["media"]),i=Ue()(a.data.syncing_current_amounts,["media"]),gr(s,i)){e.next=24;break}setTimeout(vr,1e3),e.next=45;break;case 24:if(dr(),Gr(),!Qa()){e.next=29;break}return qr("Finalizing ..."),e.abrupt("return",Vn({noticeList:[{type:"success",stepText:"Finished syncing webhooks",message:"Success! You've finished reconnecting the Shopify webhooks."}]}));case 29:if(!(Tr()||Er()||_r(a))){e.next=31;break}return e.abrupt("return",Vn());case 31:if(qr("Adding or updating posts ...","(Please wait, this may take up to 60 seconds depending on the number of products and collections)"),yt()){e.next=34;break}return e.abrupt("return",Vn());case 34:return e.next=36,Object(g.a)(ft());case 36:if(c=e.sent,u=l()(c,2),p=u[0],d=u[1],!p){e.next=42;break}return e.abrupt("return",Vn(wt(p)));case 42:if(!oa(d)){e.next=44;break}return e.abrupt("return",Vn(mt(Ha(d))));case 44:jr((function(){return kr(a)}));case 45:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kr(e){return Sr.apply(this,arguments)}function Sr(){return(Sr=d()(o.a.mark((function e(t){var n,r,a,s,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(WP_Shopify.settings.syncMedia){e.next=2;break}return e.abrupt("return",Vn());case 2:return Gr(),qr("Downloading and setting featured images ...","(Please wait, this may take up to 5 minutes depending on the size and quantity of Shopify images)"),wr(Vn),e.next=7,Object(g.a)(ws("media"));case 7:return n=e.sent,r=l()(n,2),r[0],pr(Na(ka(r[1]))),e.next=14,Object(g.a)(Ge());case 14:if(a=e.sent,s=l()(a,2),i=s[0],c=s[1],!i){e.next=20;break}return e.abrupt("return",Vn(wt(i)));case 20:if(!oa(c)){e.next=22;break}return e.abrupt("return",Vn(mt(Ha(c))));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jr(e){return Cr.apply(this,arguments)}function Cr(){return(Cr=d()(o.a.mark((function e(t){var n,r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr()||Or()){e.next=2;break}return e.abrupt("return",Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}));case 2:return e.next=4,Object(g.a)(Xa(pe()));case 4:if(n=e.sent,r=l()(n,2),a=r[0],s=r[1],!a){e.next=10;break}return e.abrupt("return",Vn(wt(a)));case 10:if(!s.data){e.next=12;break}return e.abrupt("return",t());case 12:jr(t);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pr(){return WP_Shopify.isSyncing}function Tr(){return WP_Shopify.manuallyCanceled}function Er(){return WP_Shopify.isDisconnecting}function Or(){return WP_Shopify.isConnecting}function Qr(e){return Ir.apply(this,arguments)}function Ir(){return(Ir=d()(o.a.mark((function e(t){var n,r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(Xa(de()));case 2:if(n=e.sent,r=l()(n,2),a=r[0],s=r[1],!a){e.next=8;break}return e.abrupt("return",t(a));case 8:if(!s.data){e.next=10;break}return e.abrupt("return",t(s));case 10:setTimeout((function(){Qr(t)}),2e3);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wr(){jQuery(".wps-btn-cancel, .wps-modal-close").unbind().on("click",function(){var e=d()(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pt(),Xr(),WP_Shopify.manuallyCanceled=!0;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}var zr=n("./node_modules/he/he.js"),Dr=n.n(zr);function Ar(){return jQuery('<span class="dashicons dashicons-no"></span>')}function Hr(){return jQuery('<span class="dashicons dashicons-yes"></span>')}function Br(e){jQuery("body").append(e)}function Ur(e){"is-connected"===e?jQuery(".wps-status-heading .wps-status").removeClass("is-disconnected").addClass("is-connected").text("Connected"):jQuery(".wps-status-heading .wps-status").removeClass("is-connected").addClass("is-disconnected").text("Disconnected")}function Lr(e){if(!e.length)return!1;"string"==typeof e?jQuery(e).find(".wps-connector-progress").show():e.find(".wps-connector-progress").show()}function Mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Connecting ...",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Cancel connection";return null===Ke()?jQuery('<div class="wps-connector-wrapper"><div class="wps-connector wps-connector-progress wps-animated wps-fadeInDown"><span class="wps-modal-close dashicons dashicons-no-alt"></span><h1 class="wps-connector-heading"><span>'+e+'</span> <img class="wps-connector-logo" src="'+WP_Shopify.pluginsDirURL+'admin/imgs/shopify.svg" /> to <img class="wps-connector-logo" src="'+WP_Shopify.pluginsDirURL+'admin/imgs/logo-wp.svg" /></h1><div class="l-row"><button type="button" name="button" class="button button-primary wps-btn wps-btn-cancel">'+t+'</button></div><div class="wps-connector-content"></div></ div><footer class="wps-modal-footer"><span>Sync duration: </span><span id="wps-sync-duration"></span></footer></div>'):Ke()}function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";vs();var n=Mr(e,t);Br(n),Wr(),Lr(n)}function Rr(e){jQuery(".wps-connector-heading span").text(e)}function Fr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";et()||(t="error"===n?jQuery('<div class="wps-progress-notice wps-progress-notice-error"><div class="wps-progress-notice-group"><span class="wps-progress-text">'+e+'<small class="wps-progress-text-supporting">'+r+"</small></span></div></div>"):jQuery('<div class="wps-progress-notice wps-progress-notice-success"><div class="wps-progress-notice-group"><span class="wps-progress-text">'+e+'<small class="wps-progress-text-supporting">'+r+'</small></span><div class="spinner is-active"></div></div></div>'),jQuery(".wps-connector-wrapper").find(".wps-connector-content").prepend(t))}function Gr(){var e=jQuery(".wps-connector-content .wps-progress-notice:first-child");e.append(Hr()),jQuery(".wps-connector-content .wps-progress-notice:first-child .spinner").removeClass("is-active"),e.addClass("is-inactive"),e.find(".wps-progress-notice-group .wps-progress-text").html((function(e,t){return t+" done"})),oe(e.find(".dashicons"))}function qr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Je()&&Fr(e,"",t)}function Zr(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&jQuery("#wps-sync-by-collections-checkbox-wrapper .notice").replaceWith('<p class="notice notice-error inline">'+Dr.a.decode(e)+"</p>"),jQuery("#wps-sync-by-collections-checkbox-wrapper").removeClass("wps-is-hidden"),jQuery("#wps-sync-by-collections-wrapper").addClass("wps-is-hidden")}function $r(e){e.toggleClass("wps-is-active")}function Yr(e){jQuery(".wps-connector-content .wps-progress-notice:first-child .wps-progress-text").text(e)}function Jr(e){jQuery(".wps-btn-cancel").text(e)}function Vr(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&jQuery('.notice[data-dismiss-name="'+e+'"]').fadeOut()}function Kr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",n="";e&&X()(e)&&(n=Dr.a.decode(e));var r=jQuery("#wps-errors"),a=jQuery('<div class="wps-notice notice is-dismissible '+t+'"><p>'+n+'</p><button type="button" class="notice-dismiss"><span class="screen-reader-text">Dismiss this notice.</span></button></div>');r.empty().removeClass("wps-is-hidden").append(a),Oe();var s=r.find(".notice");"updated"===t&&setTimeout((function(){s.slideUp("fast",(function(){r.addClass("wps-is-hidden")}))}),5e3),ea(),ta()}function Xr(){wa(jQuery('#wps-connect input[type="submit"]'))}function ea(){wa(jQuery(".wps-button-group .spinner.wps-is-active").prev())}function ta(){jQuery(".wps-button-group .spinner.wps-is-active").removeClass("wps-is-active")}function na(){jQuery(".wps-btn-cancel, .wps-modal-close").unbind().on("click",(function(){jQuery(".wps-connector-wrapper").remove(),jQuery(document).unbind(),tt()})),jQuery(document).on("click",(function(e){jQuery(e.target).closest(".wps-connector").length||(jQuery(".wps-connector-wrapper").remove(),jQuery(document).unbind(),tt())})),wa(jQuery(".wps-btn-cancel").blur()),Xr()}function ra(e){ce()(e)||(e={type:"warning",message:e});var t=jQuery('<div class="notice notice-'+e.type+'">'+Dr.a.decode(e.message)+"</div>");jQuery(".wps-connector-heading").after(t)}function aa(e){D()(e.noticeList)&&!v()(e.noticeList)&&h()(e.noticeList,ra)}function sa(e){jQuery(".wps-progress-notice").not(".is-inactive").each((function(){var t=jQuery(this),n=t.find(".spinner");n.length&&(n.remove(),!0===e.xMark?t.append(Ar()):(t.append(Hr()),oe(t.find(".dashicons-yes"))))}))}function ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=za(e);na(),sa(t),Rr(t.headingText),Jr(t.buttonText),Yr(t.stepText),Ur(qa()),aa(t)}function ca(){return jQuery(".wps-connector .wps-btn-cancel")}function oa(e){var t=!1;return V()(e)&&H()(e,"success")&&(e.success||(t=!0)),V()(e)&&H()(e,"data")&&H()(e.data,"type")&&"error"===e.data.type&&(t=!0),D()(e)&&!v()(e)&&h()(e,(function(e){V()(e)&&H()(e,"success")&&(e.success||(t=!0))})),t}function ua(e){return!!(V()(e)&&H()(e,"statusCode")&&H()(e,"message"))}function la(e){return X()(e)?e:V()(e)&&H()(e,"data")&&H()(e.data,"message")?e.data.message:V()(e)&&H()(e,"message")?e.message:V()(e)&&H()(e,"data")?D()(e.data)?X()(e.data[0])?e.data[0]:H()(e.data[0],"message")?e.data[0].message:"An unknown error occured. Please clear the plugin cache and try again.":Object.values(e.data)[0].errors.error[0]:D()(e)?E()(e,(function(e){return!e.success}))[0].data.message:"It looks like something unexpected happened. Please clear the plugin cache and try again."}function pa(e){return V()(e)&&H()(e,"data")&&H()(e.data,"type")?e.data.type:"error"}function da(e){if(k()(e))return"WP Shopify javascript error: "+e.message;if(V()(e)&&H()(e,"statusCode")&&H()(e,"message")){var t=H()(e,"action_name")?e.action_name:"unknown location";return function(e){if(e)return e.toLowerCase().replace(/^\w/,(function(e){return e.toUpperCase()}));return""}(e.message)+" while calling "+t+". Please clear the plugin transient cache and try again. Error status code: "+e.statusCode}return!1}function ga(e){return-1!==e.indexOf(".myshopify.com")}function fa(e){return e.indexOf("http://")>-1||e.indexOf("https://")>-1}function ha(e){return!!te()(e,{protocols:["http","https"],require_tld:!0,require_protocol:!0,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,host_whitelist:!1,host_blacklist:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1})}function ya(e){return e.match("^[a-zA-Z0-9-_]+$")}function ma(e){e.prop("disabled",!0).attr("disabled",!0)}function wa(e){e.prop("disabled",!1).attr("disabled",!1)}function ba(e){jQuery(e).parent().next().addClass("wps-is-active"),ma(jQuery(e))}function _a(e){e.next().addClass("wps-is-active"),ma(e)}function va(e){e.next().removeClass("wps-is-active"),e.prop("disabled",!1),wa(e)}function xa(e){return e.data}function ka(e){return e.map(xa)}function Sa(e){return Object.assign.apply(Object,[{}].concat(Y()(e)))}function ja(e){return 1==e}var Ca=function(){return ja(WP_Shopify.settings.selectiveSyncAll)},Pa=function(){return ja(Ca()||WP_Shopify.settings.selectiveSyncProducts)},Ta=function(){return ja(Ca()||WP_Shopify.settings.selectiveSyncProducts)},Ea=function(){return ja(Ca()||WP_Shopify.settings.selectiveSyncCollections)},Oa=function(){return ja(Ca()||WP_Shopify.selective_sync.shop)},Qa=function(){return ja(WP_Shopify.reconnectingWebhooks)};function Ia(e,t,n){return{statusCode:e.status,message:t,action_name:n}}function Wa(e){return{statusCode:e.status,message:e.data.message,action_name:e.data.code}}function za(e){return P()({headingText:"Canceled",stepText:"Stopped syncing",status:"is-disconnected",buttonText:"Close WP Shopify Sync",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}],errorCode:"",clearInputs:!0,noticeType:"warning"},e)}function Da(e){if(e)return!e.success}function Aa(e){return E()(e,Da)}function Ha(e){return t=Aa(e),D()(t)?t[0]:t;var t}function Ba(e){if(e)return!W()([e],"type")}function Ua(e){if(Ca())return e;if((ja(WP_Shopify.isConnecting)||Qa())&&e.hasOwnProperty("webhooks"))return e;var t,n=(t=WP_Shopify.selective_sync,U()(t,(function(e,t){return 1==e}))),r=Object.getOwnPropertyNames(e)[0];return n.hasOwnProperty(r)?e:H()(n,"products")&&H()(e,"collects")?e:void 0}function La(){return 0!=(void 0===WP_Shopify.hasConnection||WP_Shopify.hasConnection)&&(!0===WP_Shopify.hasConnection||(1===WP_Shopify.hasConnection||"1"===WP_Shopify.hasConnection))}function Ma(e){return E()(e,(function(e){return!v()(M()(e,(function(e,t){return 0===(n=e)||"0"===n;var n})))}))}function Na(e){return E()(e,Ba)}function Ra(e){return E()(e,Ua)}function Fa(e,t){return E()(e,(function(e){var n=!1;return h()(t,(function(t){H()(e,t)&&(n=!0)})),!n}))}function Ga(e){WP_Shopify.hasConnection=e}function qa(){return La()?"is-connected":"is-disconnected"}function Za(e){return function(e){var t=!1;return h()(e,(function(e){"error"===e.type&&(t=!0)})),t}(e)?R()(Q()(e),"message"):Q()(e,La()?[{type:"success",message:'Success! You\'ve finished syncing your Shopify store. Now <a href="https://docs.wpshop.io/#/getting-started/displaying" target="_blank">learn how to display</a> your products.'}]:[{type:"success",message:"Success! You've finished disconnecting your Shopify store from WordPress."}])}function $a(e){var t=G()(e);return Z()(t)||t<=0?"auto":t}var Ya=function(){return WP_Shopify.nonce_api};function Ja(e){return new Promise((function(t,n){jQuery.ajax({type:"GET",url:"https://wpshop.io/edd-sl?edd_action=get_version&item_name=WP+Shopify&license="+e+"&url="+WP_Shopify.siteUrl,success:function(e){return t(e)},error:function(e,t,r){n(Ia(e,r,"edd_action=get_version"))}})}))}function Va(e){return new Promise((function(t,n){jQuery.ajax({type:"GET",url:"https://wpshop.io/edd-sl?edd_action=check_license&item_name=WP+Shopify&license="+e+"&url="+WP_Shopify.siteUrl,success:function(e){return t(e)},error:function(e,t,r){n(Ia(e,r,"edd_action=check_license"))}})}))}function Ka(e){return new Promise((function(t,n){jQuery.ajax({type:"GET",url:"https://wpshop.io/edd-sl?edd_action=activate_license&item_name=WP+Shopify&license="+e+"&url="+WP_Shopify.siteUrl,success:function(e){return t(e)},error:function(e,t,r){n(Ia(e,r,"edd_action=activate_license"))}})}))}function Xa(e){return ts("get",e)}function es(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ts("post",e,t)}function ts(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,a){b()({method:e,url:t,data:n,headers:{"X-WP-Nonce":Ya()}}).then((function(e){return r(e)})).catch((function(e){return a(Wa(e.response))}))}))}function ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return es(me(),e)}function rs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return es(we(),e)}function as(){return es(ue()+"smart_collections/count")}function ss(){return es(ue()+"custom_collections/count")}function is(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return es(ve(),e)}function cs(){return es(ue()+"shop/count")}function os(){return es(Ee())}function us(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return es(_e(),e)}function ls(){return es(ue()+"collects/count")}function ps(e){return{currentPage:1,pages:Math.ceil(parseInt(e)/parseInt(WP_Shopify.itemsPerRequest))}}function ds(e,t){return new Promise(function(){var n=d()(o.a.mark((function n(r,a){var s,i,c,u,p,d,f;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=ps(e),i=s.currentPage,c=s.pages;case 1:if(!(i<=c)){n.next=19;break}return n.next=4,Object(g.a)(t({page:i}));case 4:if(u=n.sent,p=l()(u,2),d=p[0],f=p[1],!d){n.next=12;break}return Vn(wt(d)),r(),n.abrupt("break",19);case 12:if(!oa(f)){n.next=16;break}return Vn(mt(f)),r(),n.abrupt("break",19);case 16:i++,n.next=1;break;case 19:r();case 20:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}function gs(e,t){return new Promise(function(){var n=d()(o.a.mark((function n(r,a){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=r,n.next=3,ds(e,t);case 3:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}function fs(e,t){var n=[];return Ea()&&(n=m()(n,gs(e.smart_collections,ns)),n=m()(n,gs(e.custom_collections,rs))),Oa()&&(n=m()(n,gs(e.shop,is))),Pa()&&(n=m()(n,gs(e.products,bt))),Ta()&&(n=m()(n,gs(e.collects,us))),Promise.all(n)}function hs(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return fs(e=Sa(e))}function ys(){var e=[];return e=m()(e,cs()),e=m()(e,_t()),Promise.all(e)}function ms(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return"media"===e?Promise.all(m()(t,os())):(Oa()&&(t=m()(t,cs())),Ea()&&(t=m()(t,as()),t=m()(t,ss())),Pa()&&(t=m()(t,_t())),Ta()&&(t=m()(t,ls())),Promise.all(t))}function ws(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return ht()?ys():ms(e)}function bs(){var e=jQuery("#wps-connect"),t=e.find('input[type="submit"]');jQuery("#wps-connect").off("submit.disconnect"),e.on("submit.connect",(function(e){e.preventDefault()})).validate({rules:{api_key:{alphaNumeric:!0},api_password:{alphaNumeric:!0},shared_secret:{alphaNumeric:!0},storefront_access_token:{alphaNumeric:!0},domain:{domainRule:!0}},success:function(e){!function(e,t){e.addClass("valid").text("Ok!"),jQuery("#wps-errors").addClass("wps-is-hidden"),wa(t)}(e,t)},errorPlacement:function(e){!function(e,t){Kr(e.text(),"error")}(e)},submitHandler:function(e){!function(e){Nr("Connecting","Cancel connection"),new Promise(function(){var t=d()(o.a.mark((function t(n,r){var a,s,i,c,u,p,f,h,y,m,w,b,_,v,x,k,S,j,C,P,T,E,O,Q;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return qr("Preparing Shopify connection ..."),t.next=3,Object(g.a)(gt());case 3:if(a=t.sent,s=l()(a,2),i=s[0],c=s[1],!i){t.next=10;break}return Vn(wt(i)),t.abrupt("return",n());case 10:if(!oa(c)){t.next=13;break}return Vn(mt(c)),t.abrupt("return",n());case 13:if(!Tr()){t.next=16;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),t.abrupt("return",n());case 16:return Gr(),qr("Saving Shopify connection ..."),t.next=20,Object(g.a)(es(ue()+"connection",{connection:_s(e)}));case 20:if(u=t.sent,p=l()(u,2),f=p[0],h=p[1],!f){t.next=27;break}return Vn(wt(f)),t.abrupt("return",n());case 27:if(!oa(h)){t.next=30;break}return Vn(mt(Ha(h))),t.abrupt("return",n());case 30:if(!Tr()){t.next=33;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),t.abrupt("return",n());case 33:if(WP_Shopify.isConnecting=!0,Ga(!0),!ht()){t.next=38;break}return Vn({type:"success",stepText:"Finished syncing",message:"Success! You've finished syncing with Shopify."}),t.abrupt("return",n());case 38:return Gr(),qr("Validating Shopify connection ..."),t.next=42,Object(g.a)(es(Te(),{type:"shopify",creds:_s(e)}));case 42:if(y=t.sent,m=l()(y,2),w=m[0],b=m[1],!w){t.next=49;break}return Vn(wt(w)),t.abrupt("return",n());case 49:if(!oa(b)){t.next=70;break}return t.next=52,Object(g.a)(Promise.all([es(xe()),es(Se()),es(Pe())]));case 52:if(_=t.sent,v=l()(_,2),x=v[0],k=v[1],!x){t.next=59;break}return Vn(wt(x)),t.abrupt("return",n());case 59:if(!oa(k)){t.next=62;break}return Vn(mt(Ha(k))),t.abrupt("return",n());case 62:if(!Tr()){t.next=65;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),t.abrupt("return",n());case 65:return Kr("Your Shopify API credentials appear to be incorrect. Please double check and try again","error"),Vr("notice_warning_app_uninstalled"),Ga(!1),Vn({keepInputs:!0}),t.abrupt("return",n());case 70:if(!Tr()){t.next=73;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),t.abrupt("return",n());case 73:if(!xs(h)){t.next=91;break}return t.next=76,Object(g.a)(is());case 76:if(S=t.sent,j=l()(S,2),C=j[0],P=j[1],!C){t.next=83;break}return Vn(wt(C)),t.abrupt("return",n());case 83:if(!oa(P)){t.next=86;break}return Vn(mt(Ha(P))),t.abrupt("return",n());case 86:if(!Tr()){t.next=89;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),t.abrupt("return",n());case 89:return Vn({headingText:"Connection saved",stepText:"Finished saving Shopify connection only"}),t.abrupt("return",n());case 91:return Gr(),qr("Removing any existing data first ...","(Please wait, this might take 30 seconds or so)"),t.next=95,Object(g.a)(es(Se()));case 95:if(T=t.sent,E=l()(T,2),O=E[0],Q=E[1],!O){t.next=102;break}return Vn(wt(O)),t.abrupt("return",n());case 102:if(!oa(Q)){t.next=105;break}return Vn(mt(Ha(Q))),t.abrupt("return",n());case 105:if(!Tr()){t.next=108;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),t.abrupt("return",n());case 108:WP_Shopify.isSyncing=!0,Qr(d()(o.a.mark((function e(){var t,r,a,s,i,c,u,p,d,f,h,y,m,w,b,_,v,x,k,S,j,C;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(xt());case 2:if(t=e.sent,r=l()(t,2),a=r[0],s=r[1],!a){e.next=9;break}return Vn(wt(a)),e.abrupt("return",n());case 9:if(!oa(s)){e.next=12;break}return Vn(mt(Ha(s))),e.abrupt("return",n());case 12:if(!Tr()){e.next=15;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",n());case 15:return i=ht()?["webhooks"]:[],Gr(),qr("Determining the number of items to sync ..."),e.next=20,Object(g.a)(ws());case 20:if(c=e.sent,u=l()(c,2),p=u[0],d=u[1],!p){e.next=27;break}return Vn(wt(p)),e.abrupt("return",n());case 27:if(!oa(d)){e.next=30;break}return Vn(mt(Ha(d))),e.abrupt("return",n());case 30:if(!Tr()){e.next=33;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",n());case 33:return f=Ma(Ra(Na(ka(d)))),e.next=36,Object(g.a)(Ne({counts:f,exclusions:i}));case 36:if(h=e.sent,y=l()(h,2),m=y[0],w=y[1],!m){e.next=43;break}return Vn(wt(m)),e.abrupt("return",n());case 43:if(!oa(w)){e.next=46;break}return Vn(mt(Ha(w))),e.abrupt("return",n());case 46:if(!Tr()){e.next=49;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",n());case 49:return e.next=51,Object(g.a)(vt());case 51:if(b=e.sent,_=l()(b,2),v=_[0],x=_[1],!v){e.next=58;break}return Vn(wt(v)),e.abrupt("return",n());case 58:if(!oa(x)){e.next=61;break}return Vn(mt(x)),e.abrupt("return",n());case 61:if(!Tr()){e.next=64;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",n());case 64:return e.next=66,Object(g.a)(tr(!0,Qn(),i));case 66:if(k=e.sent,S=l()(k,2),j=S[0],C=S[1],!j){e.next=73;break}return Vn(wt(j)),e.abrupt("return",n());case 73:if(!oa(C)){e.next=76;break}return Vn(mt(Ha(C))),e.abrupt("return",n());case 76:if(!Tr()){e.next=79;break}return Vn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",n());case 79:Gr(),Rr("Syncing"),Jr("Cancel syncing process"),qr("Syncing Shopify data ...","(Please wait, this may take up to 5 minutes depending on the size of your store and speed of internet connection.)"),pr(Fa(f,i)),Ye(),vr(),hs(f,!0);case 87:case"end":return e.stop()}}),e)}))));case 110:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}(e)}})}function _s(e){return t=jQuery(e).serializeArray(),(t=JSON.parse(JSON.stringify(t))).reduce((function(e,t){return e[t.name]=t.value,e}),{});var t}function vs(){var e,t,n=jQuery("#wps-connect").find('input[type="submit"]');tt(),jQuery("body").find(".wps-connector-wrapper").remove(),(fa(t=jQuery("#wps_settings_general_domain").val())||function(e){return!!e.indexOf("myshopify.com")&&(e.split("myshopify.com").length>1||void 0)}(t))&&jQuery("#wps_settings_general_domain").val(((e=t).indexOf("http://")>-1&&(e=e.replace("http://","")),e.indexOf("https://")>-1&&(e=e.replace("https://","")),e.indexOf("myshopify.com/")>-1&&(e=(e=e.split("myshopify.com/"))[0]+"myshopify.com"),e)),ma(n),h()(n,ba),Xe(!1),Ve(!0)}function xs(e){return!!WP_Shopify.settings.connection.saveConnectionOnly}function ks(){bs()}function Ss(){"submitDisconnect"===jQuery("#wps-connect").find('input[type="submit"]').attr("name")?Un():ks()}function js(){jQuery.validator.addMethod("containsProtocol",fa,"Please remove http:// or https:// from domain"),jQuery.validator.addMethod("domainRule",ga,'Domain must contain ".myshopify.com"'),jQuery.validator.addMethod("alphaNumeric",ya,"Must contain only numbers and letters"),jQuery.validator.addMethod("urlRule",ha,"Must be a valid URL"),jQuery.fn.extend({animateCss:function(e,t){this.addClass("animated "+e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){jQuery(this).removeClass("animated "+e),t()}))}})}function Cs(){jQuery(".wps-admin-wrap .nav-tab").on("click",(function(e){e.preventDefault();var t,n=jQuery(this).data("tab"),r=jQuery(".wps-admin-wrap .nav-tab.nav-tab-active"),a=function(e){return jQuery('.wps-admin-wrap .nav-tab[data-tab="'+e+'"]')}(n),s=jQuery('.wps-admin-wrap .tab-content[data-tab-content="'+n+'"]'),i=jQuery(".wps-admin-wrap .tab-content.tab-content-active"),c=jQuery("#wps-errors");t=n,window.history.pushState({},"",Ts(window.location.href,"activetab",t)),i.removeClass("tab-content-active"),r.removeClass("nav-tab-active"),a.addClass("nav-tab-active"),s.addClass("tab-content-active"),c.addClass("wps-is-hidden")}))}function Ps(){jQuery(".wps-submenu .wps-sub-section-link").on("click",(function(e){e.preventDefault();var t,n=jQuery(this).data("sub-section"),r=jQuery(".wps-submenu .wps-sub-section-link.current"),a=function(e){return jQuery('.wps-sub-section-link[data-sub-section="'+e+'"]')}(n),s=jQuery("#"+n),i=jQuery(".wps-admin-sub-section.is-active"),c=jQuery("#wps-errors");t=n,window.history.pushState({},"",Ts(window.location.href,"activesubnav",t)),i.removeClass("tab-content-active"),r.removeClass("current"),a.addClass("current"),s.addClass("is-active"),c.addClass("wps-is-hidden")}))}function Ts(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+a+t+"="+n}function Es(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Xa(je())}function Os(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return es(je(),e)}function Qs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return es(Ce(),e)}function Is(e){return new Promise(function(){var t=d()(o.a.mark((function t(n,r){var a,s,i,c,u,p,d,f;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={},s={},t.prev=2,t.next=5,Va(e);case 5:a=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",r("Error: unable to get license key. Please try again."));case 11:return t.prev=11,t.next=14,Us(a);case 14:i=t.sent,t.next=20;break;case 17:return t.prev=17,t.t1=t.catch(11),t.abrupt("return",r(t.t1));case 20:if(!i){t.next=48;break}return t.prev=21,t.next=24,Ka(e);case 24:if(s=t.sent,V()(s)){t.next=27;break}return t.abrupt("return",r("Error: invalid license key format. Please try again."));case 27:t.next=32;break;case 29:return t.prev=29,t.t2=t.catch(21),t.abrupt("return",r("Error: unable to activate license key. Please try again."));case 32:return c=Bs(s,e),t.next=35,Object(g.a)(Os({license:c}));case 35:if(u=t.sent,p=l()(u,2),d=p[0],f=p[1],!d){t.next=42;break}return Kr(da(d)),t.abrupt("return",r(d));case 42:if(!oa(f)){t.next=45;break}return Kr(la(f),pa(f)),t.abrupt("return",r(d));case 45:return t.abrupt("return",n(c));case 48:return t.abrupt("return",r(i));case 49:case"end":return t.stop()}}),t,null,[[2,8],[11,17],[21,29]])})));return function(e,n){return t.apply(this,arguments)}}())}function Ws(e){e.removeClass("valid").addClass("error")}function zs(e){var t=jQuery("#wps-license"),n=t.find('input[type="submit"]'),r=t.find("#wps_settings_general_license"),a=jQuery(".wps-postbox-license-info");n.data("status","deactivate"),n.attr("data-status","deactivate"),n.val("Deactivate License"),r.val(function(e,t,n){if(e){var r=e.length,a=e.substr(r-n),s=e.slice(0,-n);s.length;return new Array(s.length+1).join(t)+a}}(e.license_key,"•",4)),r.removeClass("error"),function(e){var t,n,r=jQuery(".wps-col-license-limit"),a=jQuery(".wps-col-license-name"),s=jQuery(".wps-col-license-email"),i=jQuery(".wps-col-license-expire"),c=jQuery(".wps-col-license-status");t=0===e.license_limit?"unlimited":e.license_limit;n=e.site_count,e.success&&(c.text("Active"),c.removeClass("wps-col-license-status-inactive").addClass("wps-col-license-status-active"));r.text(n+" / "+t),a.text(e.customer_name),s.text(e.customer_email),"false"!==e.lifetime&&e.lifetime?i.text("Never expires"):i.text(function(e){var t=Date.parse(e);if(0==isNaN(t)){var n=new Date(t);return re()(n,"mmmm d, yyyy")}}(e.expires));e.is_local&&r.append('<small class="wps-table-supporting">(Activations on dev environments don\'t add to total)</small>')}(e),a.removeClass("wps-is-hidden").animateCss("wps-fadeInRight",(function(){a.removeClass("wps-fadeInRight")})),ma(jQuery("#wps_settings_general_license"))}function Ds(){var e=jQuery("#wps-license"),t=e.find('input[type="submit"]'),n=e.find("#wps_settings_general_license"),r=jQuery(".wps-postbox-license-info");t.data("status","activate"),t.attr("data-status","activate"),t.val("Activate License"),n.val(""),n.attr("disabled",!1),n.prop("disabled",!1),n.removeClass("error valid"),r.animateCss("wps-fadeOutRight",(function(){r.addClass("wps-is-hidden")}))}function As(){var e=jQuery("#wps-license, #wps-plugin-info, #wps-license-info");e.addClass("wps-is-ready"),e.find(".wps-is-hidden").removeClass("wps-is-hidden")}function Hs(){var e;jQuery("#wps-license").submit((function(e){e.preventDefault()})).validate({rules:{"wps_settings_license[wps_key]":{alphaNumeric:!0}},errorPlacement:function(e){Kr(e.text(),"error")},submitHandler:(e=d()(o.a.mark((function e(t){var n,r,a,s,i,c,u,p,d,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=jQuery(t).find('input[type="submit"]'),r=jQuery(t).find(".spinner"),jQuery("#wps_settings_general_nonce_license_id").val(),a=jQuery(t).find("#wps_settings_general_license"),s=jQuery(t).find("#wps_settings_general_license").val(),jQuery(".wps-postbox-license-info"),ma(n),$r(r),_a(n),"activate"!==n.data("status")){e.next=35;break}return e.prev=5,e.next=8,Is(s);case 8:i=e.sent,e.next=17;break;case 11:return e.prev=11,e.t0=e.catch(5),va(n),Kr(e.t0,"error"),Ws(a),e.abrupt("return",e.t0);case 17:return e.prev=17,e.next=20,Ja(s);case 20:c=e.sent,e.next=29;break;case 23:return e.prev=23,e.t1=e.catch(17),va(n),Kr(e.t1,"error"),Ws(a),e.abrupt("return",e.t1);case 29:Ls({productInfo:c}),zs(i),Ms(i),Kr("Successfully activated license key. Enjoy :)","updated"),e.next=45;break;case 35:return e.next=37,Object(g.a)(Qs());case 37:u=e.sent,p=l()(u,2),d=p[0],f=p[1],d&&Kr(da(d)),oa(f)&&Kr(la(f),pa(f)),Ds(),Kr("Successfully deactivated license key","updated");case 45:wa(n),$r(r),va(n);case 48:case"end":return e.stop()}}),e,null,[[5,11],[17,23]])}))),function(t){return e.apply(this,arguments)})})}function Bs(e,t){var n=e;return"lifetime"===n.expires?(n.expires=new Date("January 1, 1970"),n.lifetime=!0):n.lifetime=!1,n.license_key=t,n}function Us(e){return new Promise(function(){var t=d()(o.a.mark((function t(n,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("invalid"!==e.license){t.next=2;break}return t.abrupt("return",r("This license key is invalid or disabled. Please double check / re-enter your key."));case 2:if("expired"!==e.license){t.next=4;break}return t.abrupt("return",r('This license key is expired. Please login and renew your key at <a href="https://wpshop.io/account" target="_blank">wpshop.io/account</a>'));case 4:if("revoked"!==e.license){t.next=6;break}return t.abrupt("return",r('This license key has been disabled. Please purchase a new key at <a href="https://wpshop.io/purchase" target="_blank">wpshop.io/purchase</a>'));case 6:if("missing"!==e.license){t.next=8;break}return t.abrupt("return",r('This license key cannot be found. Please purchase a new key at <a href="https://wpshop.io/purchase" target="_blank">wpshop.io/purchase</a>'));case 8:if("item_name_mismatch"!==e.license){t.next=10;break}return t.abrupt("return",r('Sorry, this key appears to be valid for a different product. Please purchase a new key at <a href="https://wpshop.io/purchase" target="_blank">wpshop.io/purchase</a>'));case 10:if(e.license,!(e.activations_left<0)){t.next=15;break}return t.abrupt("return",r("This license key has reached it's activation limit. Please upgrade."));case 15:return t.abrupt("return",n(!0));case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}function Ls(e){var t=jQuery("#wps-plugin-info"),n=t.find(".wps-col-plugin-version"),r=(t.find(".wps-col-plugin-update-avail"),t.find(".wps-col-tested-up-to"));e&&e.productInfo.banners&&(n.text(e.productInfo.new_version),r.text(e.productInfo.tested_up_to))}function Ms(e){if(e.success){var t=jQuery("#wps-license-info"),n=t.find(".wps-col-license-status"),r=t.find(".wps-col-license-name"),a=t.find(".wps-col-license-email"),s=t.find(".wps-col-license-expire"),i=t.find(".wps-col-license-limit"),c=t.find(".wps-col-license-activations-left");"valid"===e.license&&(e.license="Active",n.removeClass("wps-col-license-status-inactive").addClass("wps-col-license-status-active"));var o=new Date(e.expires).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});n.text(e.license),r.text(e.customer_name),a.text(e.customer_email),s.text(o),i.text(e.site_count+" / "+e.license_limit),c.text(e.activations_left)}}function Ns(){return new Promise(function(){var e=d()(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(){var e=d()(o.a.mark((function e(t,n){var r,a,s,i,c,u,p,d,f,h,y,m,w;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jQuery("#wps-license"),a=jQuery("#wps-license > .spinner"),r.find('input[type="submit"]'),r.find(".spinner"),r.find("#wps_settings_general_license"),jQuery(".wps-postbox-license-info"),jQuery(".wps-postbox-license-activation"),jQuery("#wps-plugin-info"),s=jQuery("#wps-plugin-info > .spinner"),i=jQuery("#wps-license-info > .spinner"),$r(s),$r(a),$r(i),e.next=6,Object(g.a)(Es());case 6:if(c=e.sent,u=l()(c,2),p=u[0],d=u[1],!p){e.next=13;break}return Kr(da(p)),e.abrupt("return",n(p));case 13:if(d&&d.data){e.next=15;break}return e.abrupt("return",t());case 15:if(!oa(d)){e.next=18;break}return Kr(la(d),pa(d)),e.abrupt("return",n(d));case 18:return e.prev=18,e.next=21,Va(d);case 21:e.sent,e.next=27;break;case 24:return e.prev=24,e.t0=e.catch(18),e.abrupt("return",n(e.t0));case 27:return Ms(d.data),e.next=30,Object(g.a)(Us(d.data));case 30:if(f=e.sent,h=l()(f,2),y=h[0],!h[1]){e.next=36;break}return e.abrupt("return",t(d.data));case 36:return e.next=38,Object(g.a)(Qs());case 38:return m=e.sent,(w=l()(m,2))[0],w[1],e.abrupt("return",n(y));case 43:case"end":return e.stop()}}),e,null,[[18,24]])})));return function(t,n){return e.apply(this,arguments)}}());case 3:r=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n(e.t0));case 9:return e.prev=9,e.next=12,Ja(r);case 12:a=e.sent,e.next=18;break;case 15:return e.prev=15,e.t1=e.catch(9),e.abrupt("return",n(e.t1));case 18:t({licenseKey:r,productInfo:a});case 19:case"end":return e.stop()}}),e,null,[[0,6],[9,15]])})));return function(t,n){return e.apply(this,arguments)}}())}function Rs(){return(Rs=d()(o.a.mark((function e(){var t,n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hs(),e.next=3,Object(g.a)(Ns());case 3:t=e.sent,n=l()(t,2),r=n[0],a=n[1],r&&(Kr(da(r)),Ds()),oa(a)&&(Kr(la(a),pa(a)),Ds()),Ls(a),As();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fs(){jQuery(".wps-help-tip").tooltipster({animation:"fade",delay:0,animationDuration:[100,100],interactive:!0,IEmin:8,timer:0})}function Gs(){jQuery(".wps-submit-menu-cart-icon").on("click",(function(){var e=setInterval((function(){jQuery('#menu-to-edit .menu-item .field-description .edit-menu-item-description:contains("WP Shopify Cart Icon")').length&&(jQuery('#menu-to-edit .menu-item .field-description .edit-menu-item-description:contains("WP Shopify Cart Icon")').closest(".field-description").hide(),clearInterval(e))}),500)})),jQuery('#menu-to-edit .menu-item .field-description .edit-menu-item-description:contains("WP Shopify Cart Icon")').hide()}var qs=n("./node_modules/@babel/runtime/helpers/extends.js"),Zs=n.n(qs),$s=n("./node_modules/immutability-helper/index.js"),Ys=n.n($s);function Js(e,t){return t.type,e}var Vs=a.a.createContext();function Ks(e){var t=a.a.useReducer(Js,{}),n=l()(t,2),r=n[0],s=n[1],i=a.a.useMemo((function(){return[r,s]}),[r]);return a.a.createElement(Vs.Provider,Zs()({value:i},e))}function Xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ei(e,t){switch(t.type){case"UPDATE_SETTING":var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(n),!0).forEach((function(t){St()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return n[t.payload.key]=Ys()(e[t.payload.key],{$set:t.payload.value}),n;default:return e}}function ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ni(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach((function(t){St()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},WP_Shopify.settings)}var ri=a.a.createContext();function ai(e){var t=a.a.useReducer(ei,ni()),n=l()(t,2),r=n[0],s=n[1],i=a.a.useMemo((function(){return[r,s]}),[r]);return a.a.createElement(ri.Provider,Zs()({value:i},e))}function si(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(ja(n.disableDefaultPages)),c=l()(i,2),o=c[0],u=c[1];return a.a.createElement(gn.a,{checked:o,onChange:function(){u(!o),s({type:"UPDATE_SETTING",payload:{key:"disableDefaultPages",value:!o}})}})}function ii(){return a.a.createElement(a.a.Fragment,null,i.a.createPortal(a.a.createElement(si,null),document.getElementById("wps-settings-disable-default-pages")))}var ci=n("./node_modules/@wordpress/components/build-module/radio-control/index.js");function oi(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(ja(n.isLiteSync)?"liteSync":"syncPosts"),c=l()(i,2),o=c[0],u=c[1];Object(r.useRef)(!0);return Object(r.useEffect)((function(){"liteSync"===o&&jQuery("#wps-settings-wrapper-selective-sync, #wps-settings-wrapper-sync-by-collections, #wps-automatic-syncing-heading, #wps-admin-section-automatic-syncing").addClass("wps-is-hidden")}),[]),a.a.createElement(ci.a,{selected:o,onChange:function(e){"syncPosts"===e?(jQuery("#wps-settings-wrapper-selective-sync, #wps-settings-wrapper-sync-by-collections, #wps-automatic-syncing-heading, #wps-admin-section-automatic-syncing").removeClass("wps-is-hidden"),s({type:"UPDATE_SETTING",payload:{key:"isLiteSync",value:!1}}),s({type:"UPDATE_SETTING",payload:{key:"isSyncingPosts",value:!0}})):(jQuery("#wps-settings-wrapper-selective-sync, #wps-settings-wrapper-sync-by-collections, #wps-automatic-syncing-heading, #wps-admin-section-automatic-syncing").addClass("wps-is-hidden"),s({type:"UPDATE_SETTING",payload:{key:"isLiteSync",value:!0}}),s({type:"UPDATE_SETTING",payload:{key:"isSyncingPosts",value:!1}})),u(e)},options:[{label:"Lite sync",value:"liteSync"},{label:"Sync posts",value:"syncPosts"}]})}function ui(){var e=Object(r.useContext)(ri),t=l()(e,2);t[0],t[1];return a.a.createElement(a.a.Fragment,null,i.a.createPortal(a.a.createElement(oi,null),document.getElementById("wps-settings-syncing-type")))}function li(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(n.pricingCurrencyDisplayStyle),c=l()(i,2),o=c[0],u=c[1],p=Object(r.useState)(ja(n.isLiteSync)),d=l()(p,2);d[0],d[1],Object(r.useRef)(!0);return a.a.createElement("div",null,a.a.createElement(ci.a,{selected:o,options:[{label:"Symbol (example: $19.99)",value:"symbol"},{label:"Code (example: USD 19.99)",value:"code"},{label:"Name (example: 19.99 US dollars)",value:"name"}],onChange:function(e){u(e),s({type:"UPDATE_SETTING",payload:{key:"pricingCurrencyDisplayStyle",value:e}})}}))}function pi(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(ja(n.hideDecimals)),c=l()(i,2),o=c[0],u=c[1];return Object(r.useEffect)((function(){o||jQuery("#wps-settings-wrapper-hide-decimals-only-zeros, #wps-settings-wrapper-hide-decimals-all").addClass("wps-is-hidden")}),[]),a.a.createElement(nn.a,{checked:o,onChange:function(){u(!o),jQuery("#wps-settings-wrapper-hide-decimals-only-zeros, #wps-settings-wrapper-hide-decimals-all").toggleClass("wps-is-hidden"),s({type:"UPDATE_SETTING",payload:{key:"hideDecimals",value:!o}})}})}function di(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(ja(n.hideDecimalsAll)),c=l()(i,2),o=c[0],u=c[1],p=Object(r.useRef)(!0);return Object(r.useEffect)((function(){p.current?p.current=!1:u(!n.hideDecimalsOnlyZeros)}),[n.hideDecimalsOnlyZeros,n.hideDecimalsAll]),a.a.createElement(gn.a,{disabled:!n.hideDecimals,checked:o,onChange:function(){u(!o),s({type:"UPDATE_SETTING",payload:{key:"hideDecimalsAll",value:!o}}),s({type:"UPDATE_SETTING",payload:{key:"hideDecimalsOnlyZeros",value:o}})},"aria-describedby":"wps-settings-hide-decimals",id:"wps-pricing-hide-decimals"})}function gi(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(ja(n.hideDecimalsOnlyZeros)),c=l()(i,2),o=c[0],u=c[1],p=Object(r.useRef)(!0);return Object(r.useEffect)((function(){p.current?p.current=!1:u(!n.hideDecimalsAll)}),[n.hideDecimalsOnlyZeros,n.hideDecimalsAll]),a.a.createElement(gn.a,{disabled:!n.hideDecimals,checked:o,onChange:function(){u(!o),s({type:"UPDATE_SETTING",payload:{key:"hideDecimalsOnlyZeros",value:!o}}),s({type:"UPDATE_SETTING",payload:{key:"hideDecimalsAll",value:o}})},"aria-describedby":"wps-settings-hide-decimals-only-zeros",id:"wps-pricing-hide-decimals-only-zeros"})}function fi(){return a.a.createElement(a.a.Fragment,null,i.a.createPortal(a.a.createElement(li,null),document.getElementById("wps-settings-currency-display-style")),i.a.createPortal(a.a.createElement(pi,null),document.getElementById("wps-settings-hide-decimals")),i.a.createPortal(a.a.createElement(di,null),document.getElementById("wps-settings-hide-decimals-all")),i.a.createPortal(a.a.createElement(gi,null),document.getElementById("wps-settings-hide-decimals-only-zeros")))}function hi(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(ja(n.productsThumbnailImagesSizingToggle)),c=l()(i,2),o=c[0],u=c[1];return a.a.createElement(nn.a,{checked:o,onChange:function(){u(!o),s({type:"UPDATE_SETTING",payload:{key:"productsThumbnailImagesSizingToggle",value:!o}})}})}function yi(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(n.productsThumbnailImagesSizingWidth),c=l()(i,2),o=c[0],u=c[1];return a.a.createElement(Xt.a,{type:"number",disabled:!n.productsThumbnailImagesSizingToggle,value:o,onChange:function(e){u(e),s({type:"UPDATE_SETTING",payload:{key:"productsThumbnailImagesSizingWidth",value:e}})}})}function mi(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(n.productsThumbnailImagesSizingHeight),c=l()(i,2),o=c[0],u=c[1];return a.a.createElement(Xt.a,{type:"number",disabled:!n.productsThumbnailImagesSizingToggle,value:o,onChange:function(e){u(e),s({type:"UPDATE_SETTING",payload:{key:"productsThumbnailImagesSizingHeight",value:e}})}})}function wi(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(n.productsThumbnailImagesSizingCrop),c=l()(i,2),o=c[0],u=c[1];return a.a.createElement(ln.a,{value:o,disabled:!n.productsThumbnailImagesSizingToggle,options:[{label:"None",value:"none"},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:function(e){u(e),s({type:"UPDATE_SETTING",payload:{key:"productsThumbnailImagesSizingCrop",value:e}})}})}function bi(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(n.productsThumbnailImagesSizingScale),c=l()(i,2),o=c[0],u=c[1];return a.a.createElement(ln.a,{value:o,disabled:!n.productsThumbnailImagesSizingToggle,options:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"}],onChange:function(e){u(e),s({type:"UPDATE_SETTING",payload:{key:"productsThumbnailImagesSizingScale",value:e}})}})}function _i(){return a.a.createElement(a.a.Fragment,null,i.a.createPortal(a.a.createElement(hi,null),document.getElementById("wps-settings-products-thumbnail-images-sizing-toggle")),i.a.createPortal(a.a.createElement(yi,null),document.getElementById("wps-settings-products-thumbnail-images-sizing-width")),i.a.createPortal(a.a.createElement(mi,null),document.getElementById("wps-settings-products-thumbnail-images-sizing-height")),i.a.createPortal(a.a.createElement(wi,null),document.getElementById("wps-settings-products-thumbnail-images-sizing-crop")),i.a.createPortal(a.a.createElement(bi,null),document.getElementById("wps-settings-products-thumbnail-images-sizing-scale")))}function vi(){return a.a.createElement(a.a.Fragment,null)}n("./node_modules/@wordpress/components/build-module/textarea-control/index.js");function xi(){return a.a.createElement(a.a.Fragment,null)}function ki(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(ja(n.layoutAlignHeight)),c=l()(i,2),o=c[0],u=c[1];return a.a.createElement(gn.a,{checked:o,onChange:function(){u(!o),s({type:"UPDATE_SETTING",payload:{key:"layoutAlignHeight",value:!o}})}})}function Si(){return a.a.createElement(a.a.Fragment,null,i.a.createPortal(a.a.createElement(ki,null),document.getElementById("wps-settings-align-height")))}function ji(){return a.a.createElement(a.a.Fragment,null)}function Ci(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(ja(n.enableDataCache)),c=l()(i,2),o=c[0],u=c[1];return a.a.createElement(nn.a,{checked:o,onChange:function(){u(!o),s({type:"UPDATE_SETTING",payload:{key:"enableDataCache",value:!o}})}})}function Pi(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(n.dataCacheLength),c=l()(i,2),o=c[0],u=c[1];return a.a.createElement(ln.a,{disabled:!n.enableDataCache,value:o,options:[{label:"2 minutes",value:"120"},{label:"5 minutes",value:"300"},{label:"20 minutes",value:"1200"},{label:"1 hour",value:"3600"},{label:"12 hours",value:"43200"},{label:"1 day",value:"86400"},{label:"2 weeks",value:"1209600"},{label:"1 month",value:"2419200"}],onChange:function(e){u(e),s({type:"UPDATE_SETTING",payload:{key:"dataCacheLength",value:e}})}})}function Ti(){return a.a.createElement(a.a.Fragment,null,i.a.createPortal(a.a.createElement(Ci,null),document.getElementById("wps-settings-cache-enable-data-cache")),i.a.createPortal(a.a.createElement(Pi,null),document.getElementById("wps-settings-cache-data-cache-length")))}function Ei(){return a.a.createElement(a.a.Fragment,null)}function Oi(){var e=Object(r.useContext)(ri),t=l()(e,2),n=t[0],s=t[1],i=Object(r.useState)(ja(n.allowTracking)),c=l()(i,2),o=c[0],u=c[1];return a.a.createElement(gn.a,{checked:o,onChange:function(){u(!o),s({type:"UPDATE_SETTING",payload:{key:"allowTracking",value:!o}})},label:"Enable"})}function Qi(){return a.a.createElement(a.a.Fragment,null,i.a.createPortal(a.a.createElement(Oi,null),document.getElementById("wps-settings-plugin-allow-tracking")))}function Ii(){return a.a.createElement(ai,null,a.a.createElement(ii,null),a.a.createElement(ui,null),a.a.createElement(fi,null),a.a.createElement(Si,null),a.a.createElement(_i,null),a.a.createElement(vi,null),a.a.createElement(xi,null),a.a.createElement(ji,null),a.a.createElement(Ti,null),a.a.createElement(Ei,null),a.a.createElement(Qi,null))}function Wi(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ks,{options:e},a.a.createElement(Ii,null)))}jQuery((function(){Fs(),Cs(),Ps(),js(),Ss(),function(){Rs.apply(this,arguments)}(),Dn(),An(),Gs(),Qe(),i.a.render(a.a.createElement(Wi,null),document.getElementById("wps-admin-app"))}))}});