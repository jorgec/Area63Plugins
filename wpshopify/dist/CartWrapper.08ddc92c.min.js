(window.wpshopify=window.wpshopify||[]).push([["CartWrapper"],{"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/wrapper/index.jsx":function(e,t,n){"use strict";n.r(t);var o=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/regenerator/index.js"),a=n.n(o),c=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/asyncToGenerator.js"),s=n.n(c),r=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/slicedToArray.js"),p=n.n(r),d=n("./node_modules/react/index.js"),i=n.n(d),u=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/_state/context.js"),l=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/shop/_state/context.js"),w=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/hooks/index.js"),y=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/utils/index.js"),f=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/cart/index.js"),b=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/isEmpty.js"),E=n.n(b),m=n("../../../../../devil/devilbox-new/data/www/wpshopify-api/index.js"),h=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/await-to-js/dist/await-to-js.es5.js"),T=i.a.lazy((function(){return n.e("CartHeader").then(n.bind(null,"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/header/index.jsx"))})),_=i.a.lazy((function(){return n.e("CartContents").then(n.bind(null,"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/contents/index.jsx"))})),j=i.a.lazy((function(){return n.e("CartFooter").then(n.bind(null,"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/footer/index.jsx"))})),x=i.a.lazy((function(){return n.e("CartButtons").then(n.bind(null,"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/buttons/index.jsx"))}));t.default=function(){var e=Object(d.useContext)(u.a),t=p()(e,2),n=t[0],o=t[1],c=Object(d.useContext)(l.a),r=p()(c,2),b=r[0],C=r[1],v=Object(d.useRef)(),O=Object(d.useRef)(!0),I=Object(w.a)("update.checkout.attributes"),A=Object(w.a)("set.checkout.attributes"),S=Object(w.a)("set.checkout.note"),k=Object(w.a)("product.addToCart"),R=Object(w.a)("cart.toggle"),N=Object(d.useState)(!1),U=p()(N,2);function D(){return(D=s()(a.a.mark((function e(){var t,n,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.checkoutId){e.next=4;break}return C({type:"UPDATE_NOTICES",payload:{type:"error",message:"No checkout found"}}),C({type:"IS_CART_READY",payload:!0}),e.abrupt("return");case 4:return e.next=6,Object(h.a)(Object(m.o)());case 6:t=e.sent,n=p()(t,2),c=n[0],s=n[1],c&&C({type:"UPDATE_NOTICES",payload:{type:"error",message:c}}),o({type:"SET_CHECKOUT_CACHE",payload:{checkoutId:b.checkoutId}}),o({type:"SET_LINE_ITEMS_AND_VARIANTS",payload:{lineItems:{products:s},checkoutId:b.checkoutId}}),E()(s)?o({type:"SET_IS_CART_EMPTY",payload:!0}):o({type:"SET_IS_CART_EMPTY",payload:!1}),C({type:"IS_CART_READY",payload:!0});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return U[0],U[1],Object(d.useEffect)((function(){O.current?O.current=!1:function(){D.apply(this,arguments)}()}),[b.checkoutId]),Object(d.useEffect)((function(){O.current?O.current=!1:o({type:"SET_TOTAL_LINE_ITEMS",payload:Object(f.a)(n.checkoutCache.lineItems)})}),[b.isCartReady,n.checkoutCache.lineItems]),Object(d.useEffect)((function(){O.current?O.current=!1:Object(y.g)()&&wp.hooks.doAction("on.checkout.update",n)}),[n.totalLineItems]),Object(d.useEffect)((function(){O.current?O.current=!1:C({type:"UPDATE_CHECKOUT_ATTRIBUTES",payload:I})}),[I]),Object(d.useEffect)((function(){O.current?O.current=!1:C({type:"SET_CHECKOUT_ATTRIBUTES",payload:A})}),[A]),Object(d.useEffect)((function(){O.current?O.current=!1:C({type:"SET_CHECKOUT_NOTE",payload:S})}),[S]),Object(d.useEffect)((function(){O.current?O.current=!1:R&&o({type:"TOGGLE_CART",payload:!0})}),[R]),Object(d.useEffect)((function(){O.current?O.current=!1:(k&&(o({type:"UPDATE_LINE_ITEMS_AND_VARIANTS",payload:k}),o({type:"TOGGLE_CART",payload:!0})),E()(k)?o({type:"SET_IS_CART_EMPTY",payload:!0}):o({type:"SET_IS_CART_EMPTY",payload:!1}))}),[k]),Object(d.useEffect)((function(){O.current&&(O.current=!1)}),[b.isDirctCheckoutOccuring]),b.settings.cart.cartLoaded&&i.a.createElement("section",{ref:v,className:"wps-cart"},i.a.createElement(x,{buttons:n.buttons}),i.a.createElement(T,null),i.a.createElement(_,{isCartReady:b.isCartEmpty,isCartEmpty:n.isCartEmpty,checkoutCache:n.checkoutCache}),i.a.createElement(j,null))}}}]);